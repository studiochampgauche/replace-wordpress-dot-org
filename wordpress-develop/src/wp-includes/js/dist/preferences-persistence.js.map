{"version":3,"file":"preferences-persistence.js","mappings":"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","sources":["webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/create/@wordpress/preferences-persistence/src/create/debounce-async.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/create/@wordpress/preferences-persistence/src/create/index.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/migrations/legacy-local-storage-data/@wordpress/preferences-persistence/src/migrations/legacy-local-storage-data/convert-edit-post-panels.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/migrations/legacy-local-storage-data/@wordpress/preferences-persistence/src/migrations/legacy-local-storage-data/index.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/migrations/legacy-local-storage-data/@wordpress/preferences-persistence/src/migrations/legacy-local-storage-data/move-feature-preferences.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/migrations/legacy-local-storage-data/@wordpress/preferences-persistence/src/migrations/legacy-local-storage-data/move-individual-preference.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/migrations/legacy-local-storage-data/@wordpress/preferences-persistence/src/migrations/legacy-local-storage-data/move-interface-enable-items.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/migrations/legacy-local-storage-data/@wordpress/preferences-persistence/src/migrations/legacy-local-storage-data/move-third-party-feature-preferences.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/migrations/preferences-package-data/@wordpress/preferences-persistence/src/migrations/preferences-package-data/convert-complementary-areas.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/migrations/preferences-package-data/@wordpress/preferences-persistence/src/migrations/preferences-package-data/convert-editor-settings.js","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/migrations/preferences-package-data/@wordpress/preferences-persistence/src/migrations/preferences-package-data/index.js","webpack://wp/external window [\"wp\",\"apiFetch\"]","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/./node_modules/@wordpress/preferences-persistence/build-module/@wordpress/preferences-persistence/src/index.js"],"sourcesContent":["/**\n * Performs a leading edge debounce of async functions.\n *\n * If three functions are throttled at the same time:\n * - The first happens immediately.\n * - The second is never called.\n * - The third happens `delayMS` milliseconds after the first has resolved.\n *\n * This is distinct from `{ debounce } from @wordpress/compose` in that it\n * waits for promise resolution.\n *\n * @param {Function} func    A function that returns a promise.\n * @param {number}   delayMS A delay in milliseconds.\n *\n * @return {Function} A function that debounce whatever function is passed\n *                    to it.\n */\nexport default function debounceAsync( func, delayMS ) {\n\tlet timeoutId;\n\tlet activePromise;\n\n\treturn async function debounced( ...args ) {\n\t\t// This is a leading edge debounce. If there's no promise or timeout\n\t\t// in progress, call the debounced function immediately.\n\t\tif ( ! activePromise && ! timeoutId ) {\n\t\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\t\t// Keep a reference to the promise.\n\t\t\t\tactivePromise = func( ...args )\n\t\t\t\t\t.then( ( ...thenArgs ) => {\n\t\t\t\t\t\tresolve( ...thenArgs );\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( ( error ) => {\n\t\t\t\t\t\treject( error );\n\t\t\t\t\t} )\n\t\t\t\t\t.finally( () => {\n\t\t\t\t\t\t// As soon this promise is complete, clear the way for the\n\t\t\t\t\t\t// next one to happen immediately.\n\t\t\t\t\t\tactivePromise = null;\n\t\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\n\t\tif ( activePromise ) {\n\t\t\t// Let any active promises finish before queuing the next request.\n\t\t\tawait activePromise;\n\t\t}\n\n\t\t// Clear any active timeouts, abandoning any requests that have\n\t\t// been queued but not been made.\n\t\tif ( timeoutId ) {\n\t\t\tclearTimeout( timeoutId );\n\t\t\ttimeoutId = null;\n\t\t}\n\n\t\t// Trigger any trailing edge calls to the function.\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\t// Schedule the next request but with a delay.\n\t\t\ttimeoutId = setTimeout( () => {\n\t\t\t\tactivePromise = func( ...args )\n\t\t\t\t\t.then( ( ...thenArgs ) => {\n\t\t\t\t\t\tresolve( ...thenArgs );\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( ( error ) => {\n\t\t\t\t\t\treject( error );\n\t\t\t\t\t} )\n\t\t\t\t\t.finally( () => {\n\t\t\t\t\t\t// As soon this promise is complete, clear the way for the\n\t\t\t\t\t\t// next one to happen immediately.\n\t\t\t\t\t\tactivePromise = null;\n\t\t\t\t\t\ttimeoutId = null;\n\t\t\t\t\t} );\n\t\t\t}, delayMS );\n\t\t} );\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport debounceAsync from './debounce-async';\n\nconst EMPTY_OBJECT = {};\nconst localStorage = window.localStorage;\n\n/**\n * Creates a persistence layer that stores data in WordPress user meta via the\n * REST API.\n *\n * @param {Object}  options\n * @param {?Object} options.preloadedData          Any persisted preferences data that should be preloaded.\n *                                                 When set, the persistence layer will avoid fetching data\n *                                                 from the REST API.\n * @param {?string} options.localStorageRestoreKey The key to use for restoring the localStorage backup, used\n *                                                 when the persistence layer calls `localStorage.getItem` or\n *                                                 `localStorage.setItem`.\n * @param {?number} options.requestDebounceMS      Debounce requests to the API so that they only occur at\n *                                                 minimum every `requestDebounceMS` milliseconds, and don't\n *                                                 swamp the server. Defaults to 2500ms.\n *\n * @return {Object} A persistence layer for WordPress user meta.\n */\nexport default function create( {\n\tpreloadedData,\n\tlocalStorageRestoreKey = 'WP_PREFERENCES_RESTORE_DATA',\n\trequestDebounceMS = 2500,\n} = {} ) {\n\tlet cache = preloadedData;\n\tconst debouncedApiFetch = debounceAsync( apiFetch, requestDebounceMS );\n\n\tasync function get() {\n\t\tif ( cache ) {\n\t\t\treturn cache;\n\t\t}\n\n\t\tconst user = await apiFetch( {\n\t\t\tpath: '/wp/v2/users/me?context=edit',\n\t\t} );\n\n\t\tconst serverData = user?.meta?.persisted_preferences;\n\t\tconst localData = JSON.parse(\n\t\t\tlocalStorage.getItem( localStorageRestoreKey )\n\t\t);\n\n\t\t// Date parse returns NaN for invalid input. Coerce anything invalid\n\t\t// into a conveniently comparable zero.\n\t\tconst serverTimestamp = Date.parse( serverData?._modified ) || 0;\n\t\tconst localTimestamp = Date.parse( localData?._modified ) || 0;\n\n\t\t// Prefer server data if it exists and is more recent.\n\t\t// Otherwise fallback to localStorage data.\n\t\tif ( serverData && serverTimestamp >= localTimestamp ) {\n\t\t\tcache = serverData;\n\t\t} else if ( localData ) {\n\t\t\tcache = localData;\n\t\t} else {\n\t\t\tcache = EMPTY_OBJECT;\n\t\t}\n\n\t\treturn cache;\n\t}\n\n\tfunction set( newData ) {\n\t\tconst dataWithTimestamp = {\n\t\t\t...newData,\n\t\t\t_modified: new Date().toISOString(),\n\t\t};\n\t\tcache = dataWithTimestamp;\n\n\t\t// Store data in local storage as a fallback. If for some reason the\n\t\t// api request does not complete or becomes unavailable, this data\n\t\t// can be used to restore preferences.\n\t\tlocalStorage.setItem(\n\t\t\tlocalStorageRestoreKey,\n\t\t\tJSON.stringify( dataWithTimestamp )\n\t\t);\n\n\t\t// The user meta endpoint seems susceptible to errors when consecutive\n\t\t// requests are made in quick succession. Ensure there's a gap between\n\t\t// any consecutive requests.\n\t\t//\n\t\t// Catch and do nothing with errors from the REST API.\n\t\tdebouncedApiFetch( {\n\t\t\tpath: '/wp/v2/users/me',\n\t\t\tmethod: 'PUT',\n\t\t\t// `keepalive` will still send the request in the background,\n\t\t\t// even when a browser unload event might interrupt it.\n\t\t\t// This should hopefully make things more resilient.\n\t\t\t// This does have a size limit of 64kb, but the data is usually\n\t\t\t// much less.\n\t\t\tkeepalive: true,\n\t\t\tdata: {\n\t\t\t\tmeta: {\n\t\t\t\t\tpersisted_preferences: dataWithTimestamp,\n\t\t\t\t},\n\t\t\t},\n\t\t} ).catch( () => {} );\n\t}\n\n\treturn {\n\t\tget,\n\t\tset,\n\t};\n}\n","/**\n * Convert the post editor's panels state from:\n * ```\n * {\n *     panels: {\n *         tags: {\n *             enabled: true,\n *             opened: true,\n *         },\n *         permalinks: {\n *             enabled: false,\n *             opened: false,\n *         },\n *     },\n * }\n * ```\n *\n * to a new, more concise data structure:\n * {\n *     inactivePanels: [\n *         'permalinks',\n *     ],\n *     openPanels: [\n *         'tags',\n *     ],\n * }\n *\n * @param {Object} preferences A preferences object.\n *\n * @return {Object} The converted data.\n */\nexport default function convertEditPostPanels( preferences ) {\n\tconst panels = preferences?.panels ?? {};\n\treturn Object.keys( panels ).reduce(\n\t\t( convertedData, panelName ) => {\n\t\t\tconst panel = panels[ panelName ];\n\n\t\t\tif ( panel?.enabled === false ) {\n\t\t\t\tconvertedData.inactivePanels.push( panelName );\n\t\t\t}\n\n\t\t\tif ( panel?.opened === true ) {\n\t\t\t\tconvertedData.openPanels.push( panelName );\n\t\t\t}\n\n\t\t\treturn convertedData;\n\t\t},\n\t\t{ inactivePanels: [], openPanels: [] }\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport moveFeaturePreferences from './move-feature-preferences';\nimport moveThirdPartyFeaturePreferences from './move-third-party-feature-preferences';\nimport moveIndividualPreference from './move-individual-preference';\nimport moveInterfaceEnableItems from './move-interface-enable-items';\nimport convertEditPostPanels from './convert-edit-post-panels';\n\n/**\n * Gets the legacy local storage data for a given user.\n *\n * @param {string | number} userId The user id.\n *\n * @return {Object | null} The local storage data.\n */\nfunction getLegacyData( userId ) {\n\tconst key = `WP_DATA_USER_${ userId }`;\n\tconst unparsedData = window.localStorage.getItem( key );\n\treturn JSON.parse( unparsedData );\n}\n\n/**\n * Converts data from the old `@wordpress/data` package format.\n *\n * @param {Object | null | undefined} data The legacy data in its original format.\n *\n * @return {Object | undefined} The converted data or `undefined` if there was\n *                              nothing to convert.\n */\nexport function convertLegacyData( data ) {\n\tif ( ! data ) {\n\t\treturn;\n\t}\n\n\t// Move boolean feature preferences from each editor into the\n\t// preferences store data structure.\n\tdata = moveFeaturePreferences( data, 'core/edit-widgets' );\n\tdata = moveFeaturePreferences( data, 'core/customize-widgets' );\n\tdata = moveFeaturePreferences( data, 'core/edit-post' );\n\tdata = moveFeaturePreferences( data, 'core/edit-site' );\n\n\t// Move third party boolean feature preferences from the interface package\n\t// to the preferences store data structure.\n\tdata = moveThirdPartyFeaturePreferences( data );\n\n\t// Move and convert the interface store's `enableItems` data into the\n\t// preferences data structure.\n\tdata = moveInterfaceEnableItems( data );\n\n\t// Move individual ad-hoc preferences from various packages into the\n\t// preferences store data structure.\n\tdata = moveIndividualPreference(\n\t\tdata,\n\t\t{ from: 'core/edit-post', to: 'core/edit-post' },\n\t\t'hiddenBlockTypes'\n\t);\n\tdata = moveIndividualPreference(\n\t\tdata,\n\t\t{ from: 'core/edit-post', to: 'core/edit-post' },\n\t\t'editorMode'\n\t);\n\tdata = moveIndividualPreference(\n\t\tdata,\n\t\t{ from: 'core/edit-post', to: 'core/edit-post' },\n\t\t'panels',\n\t\tconvertEditPostPanels\n\t);\n\tdata = moveIndividualPreference(\n\t\tdata,\n\t\t{ from: 'core/editor', to: 'core' },\n\t\t'isPublishSidebarEnabled'\n\t);\n\tdata = moveIndividualPreference(\n\t\tdata,\n\t\t{ from: 'core/edit-post', to: 'core' },\n\t\t'isPublishSidebarEnabled'\n\t);\n\tdata = moveIndividualPreference(\n\t\tdata,\n\t\t{ from: 'core/edit-site', to: 'core/edit-site' },\n\t\t'editorMode'\n\t);\n\n\t// The new system is only concerned with persisting\n\t// 'core/preferences' preferences reducer, so only return that.\n\treturn data?.[ 'core/preferences' ]?.preferences;\n}\n\n/**\n * Gets the legacy local storage data for the given user and returns the\n * data converted to the new format.\n *\n * @param {string | number} userId The user id.\n *\n * @return {Object | undefined} The converted data or undefined if no local\n *                              storage data could be found.\n */\nexport default function convertLegacyLocalStorageData( userId ) {\n\tconst data = getLegacyData( userId );\n\treturn convertLegacyData( data );\n}\n","/**\n * Move the 'features' object in local storage from the sourceStoreName to the\n * preferences store data structure.\n *\n * Previously, editors used a data structure like this for feature preferences:\n * ```js\n * {\n *     'core/edit-post': {\n *         preferences: {\n *             features; {\n *                 topToolbar: true,\n *                 // ... other boolean 'feature' preferences\n *             },\n *         },\n *     },\n * }\n * ```\n *\n * And for a while these feature preferences lived in the interface package:\n * ```js\n * {\n *     'core/interface': {\n *         preferences: {\n *             features: {\n *                 'core/edit-post': {\n *                     topToolbar: true\n *                 }\n *             }\n *         }\n *     }\n * }\n * ```\n *\n * In the preferences store, 'features' aren't considered special, they're\n * merged to the root level of the scope along with other preferences:\n * ```js\n * {\n *     'core/preferences': {\n *         preferences: {\n *             'core/edit-post': {\n *                 topToolbar: true,\n *                 // ... any other preferences.\n *             }\n *         }\n *     }\n * }\n * ```\n *\n * This function handles moving from either the source store or the interface\n * store to the preferences data structure.\n *\n * @param {Object} state           The state before migration.\n * @param {string} sourceStoreName The name of the store that has persisted\n *                                 preferences to migrate to the preferences\n *                                 package.\n * @return {Object} The migrated state\n */\nexport default function moveFeaturePreferences( state, sourceStoreName ) {\n\tconst preferencesStoreName = 'core/preferences';\n\tconst interfaceStoreName = 'core/interface';\n\n\t// Features most recently (and briefly) lived in the interface package.\n\t// If data exists there, prioritize using that for the migration. If not\n\t// also check the original package as the user may have updated from an\n\t// older block editor version.\n\tconst interfaceFeatures =\n\t\tstate?.[ interfaceStoreName ]?.preferences?.features?.[\n\t\t\tsourceStoreName\n\t\t];\n\tconst sourceFeatures = state?.[ sourceStoreName ]?.preferences?.features;\n\tconst featuresToMigrate = interfaceFeatures\n\t\t? interfaceFeatures\n\t\t: sourceFeatures;\n\n\tif ( ! featuresToMigrate ) {\n\t\treturn state;\n\t}\n\n\tconst existingPreferences = state?.[ preferencesStoreName ]?.preferences;\n\n\t// Avoid migrating features again if they've previously been migrated.\n\tif ( existingPreferences?.[ sourceStoreName ] ) {\n\t\treturn state;\n\t}\n\n\tlet updatedInterfaceState;\n\tif ( interfaceFeatures ) {\n\t\tconst otherInterfaceState = state?.[ interfaceStoreName ];\n\t\tconst otherInterfaceScopes =\n\t\t\tstate?.[ interfaceStoreName ]?.preferences?.features;\n\n\t\tupdatedInterfaceState = {\n\t\t\t[ interfaceStoreName ]: {\n\t\t\t\t...otherInterfaceState,\n\t\t\t\tpreferences: {\n\t\t\t\t\tfeatures: {\n\t\t\t\t\t\t...otherInterfaceScopes,\n\t\t\t\t\t\t[ sourceStoreName ]: undefined,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\n\tlet updatedSourceState;\n\tif ( sourceFeatures ) {\n\t\tconst otherSourceState = state?.[ sourceStoreName ];\n\t\tconst sourcePreferences = state?.[ sourceStoreName ]?.preferences;\n\n\t\tupdatedSourceState = {\n\t\t\t[ sourceStoreName ]: {\n\t\t\t\t...otherSourceState,\n\t\t\t\tpreferences: {\n\t\t\t\t\t...sourcePreferences,\n\t\t\t\t\tfeatures: undefined,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\n\t// Set the feature values in the interface store, the features\n\t// object is keyed by 'scope', which matches the store name for\n\t// the source.\n\treturn {\n\t\t...state,\n\t\t[ preferencesStoreName ]: {\n\t\t\tpreferences: {\n\t\t\t\t...existingPreferences,\n\t\t\t\t[ sourceStoreName ]: featuresToMigrate,\n\t\t\t},\n\t\t},\n\t\t...updatedInterfaceState,\n\t\t...updatedSourceState,\n\t};\n}\n","const identity = ( arg ) => arg;\n\n/**\n * Migrates an individual item inside the `preferences` object for a package's store.\n *\n * Previously, some packages had individual 'preferences' of any data type, and many used\n * complex nested data structures. For example:\n * ```js\n * {\n *     'core/edit-post': {\n *         preferences: {\n *             panels: {\n *                 publish: {\n *                     opened: true,\n *                     enabled: true,\n *                 }\n *             },\n *             // ...other preferences.\n *         },\n *     },\n * }\n *\n * This function supports moving an individual preference like 'panels' above into the\n * preferences package data structure.\n *\n * It supports moving a preference to a particular scope in the preferences store and\n * optionally converting the data using a `convert` function.\n *\n * ```\n *\n * @param {Object}    state        The original state.\n * @param {Object}    migrate      An options object that contains details of the migration.\n * @param {string}    migrate.from The name of the store to migrate from.\n * @param {string}    migrate.to   The scope in the preferences store to migrate to.\n * @param {string}    key          The key in the preferences object to migrate.\n * @param {?Function} convert      A function that converts preferences from one format to another.\n */\nexport default function moveIndividualPreferenceToPreferences(\n\tstate,\n\t{ from: sourceStoreName, to: scope },\n\tkey,\n\tconvert = identity\n) {\n\tconst preferencesStoreName = 'core/preferences';\n\tconst sourcePreference = state?.[ sourceStoreName ]?.preferences?.[ key ];\n\n\t// There's nothing to migrate, exit early.\n\tif ( sourcePreference === undefined ) {\n\t\treturn state;\n\t}\n\n\tconst targetPreference =\n\t\tstate?.[ preferencesStoreName ]?.preferences?.[ scope ]?.[ key ];\n\n\t// There's existing data at the target, so don't overwrite it, exit early.\n\tif ( targetPreference ) {\n\t\treturn state;\n\t}\n\n\tconst otherScopes = state?.[ preferencesStoreName ]?.preferences;\n\tconst otherPreferences =\n\t\tstate?.[ preferencesStoreName ]?.preferences?.[ scope ];\n\n\tconst otherSourceState = state?.[ sourceStoreName ];\n\tconst allSourcePreferences = state?.[ sourceStoreName ]?.preferences;\n\n\t// Pass an object with the key and value as this allows the convert\n\t// function to convert to a data structure that has different keys.\n\tconst convertedPreferences = convert( { [ key ]: sourcePreference } );\n\n\treturn {\n\t\t...state,\n\t\t[ preferencesStoreName ]: {\n\t\t\tpreferences: {\n\t\t\t\t...otherScopes,\n\t\t\t\t[ scope ]: {\n\t\t\t\t\t...otherPreferences,\n\t\t\t\t\t...convertedPreferences,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t[ sourceStoreName ]: {\n\t\t\t...otherSourceState,\n\t\t\tpreferences: {\n\t\t\t\t...allSourcePreferences,\n\t\t\t\t[ key ]: undefined,\n\t\t\t},\n\t\t},\n\t};\n}\n","/**\n * Migrates interface 'enableItems' data to the preferences store.\n *\n * The interface package stores this data in this format:\n * ```js\n * {\n *     enableItems: {\n *         singleEnableItems: {\n * \t           complementaryArea: {\n *                 'core/edit-post': 'edit-post/document',\n *                 'core/edit-site': 'edit-site/global-styles',\n *             }\n *         },\n *         multipleEnableItems: {\n *             pinnedItems: {\n *                 'core/edit-post': {\n *                     'plugin-1': true,\n *                 },\n *                 'core/edit-site': {\n *                     'plugin-2': true,\n *                 },\n *             },\n *         }\n *     }\n * }\n * ```\n *\n * and it should be converted it to:\n * ```js\n * {\n *     'core/edit-post': {\n *         complementaryArea: 'edit-post/document',\n *         pinnedItems: {\n *             'plugin-1': true,\n *         },\n *     },\n *     'core/edit-site': {\n *         complementaryArea: 'edit-site/global-styles',\n *         pinnedItems: {\n *             'plugin-2': true,\n *         },\n *     },\n * }\n * ```\n *\n * @param {Object} state The local storage state.\n */\nexport default function moveInterfaceEnableItems( state ) {\n\tconst interfaceStoreName = 'core/interface';\n\tconst preferencesStoreName = 'core/preferences';\n\tconst sourceEnableItems = state?.[ interfaceStoreName ]?.enableItems;\n\n\t// There's nothing to migrate, exit early.\n\tif ( ! sourceEnableItems ) {\n\t\treturn state;\n\t}\n\n\tconst allPreferences = state?.[ preferencesStoreName ]?.preferences ?? {};\n\n\t// First convert complementaryAreas into the right format.\n\t// Use the existing preferences as the accumulator so that the data is\n\t// merged.\n\tconst sourceComplementaryAreas =\n\t\tsourceEnableItems?.singleEnableItems?.complementaryArea ?? {};\n\n\tconst preferencesWithConvertedComplementaryAreas = Object.keys(\n\t\tsourceComplementaryAreas\n\t).reduce( ( accumulator, scope ) => {\n\t\tconst data = sourceComplementaryAreas[ scope ];\n\n\t\t// Don't overwrite any existing data in the preferences store.\n\t\tif ( accumulator?.[ scope ]?.complementaryArea ) {\n\t\t\treturn accumulator;\n\t\t}\n\n\t\treturn {\n\t\t\t...accumulator,\n\t\t\t[ scope ]: {\n\t\t\t\t...accumulator[ scope ],\n\t\t\t\tcomplementaryArea: data,\n\t\t\t},\n\t\t};\n\t}, allPreferences );\n\n\t// Next feed the converted complementary areas back into a reducer that\n\t// converts the pinned items, resulting in the fully migrated data.\n\tconst sourcePinnedItems =\n\t\tsourceEnableItems?.multipleEnableItems?.pinnedItems ?? {};\n\tconst allConvertedData = Object.keys( sourcePinnedItems ).reduce(\n\t\t( accumulator, scope ) => {\n\t\t\tconst data = sourcePinnedItems[ scope ];\n\t\t\t// Don't overwrite any existing data in the preferences store.\n\t\t\tif ( accumulator?.[ scope ]?.pinnedItems ) {\n\t\t\t\treturn accumulator;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...accumulator,\n\t\t\t\t[ scope ]: {\n\t\t\t\t\t...accumulator[ scope ],\n\t\t\t\t\tpinnedItems: data,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tpreferencesWithConvertedComplementaryAreas\n\t);\n\n\tconst otherInterfaceItems = state[ interfaceStoreName ];\n\n\treturn {\n\t\t...state,\n\t\t[ preferencesStoreName ]: {\n\t\t\tpreferences: allConvertedData,\n\t\t},\n\t\t[ interfaceStoreName ]: {\n\t\t\t...otherInterfaceItems,\n\t\t\tenableItems: undefined,\n\t\t},\n\t};\n}\n","/**\n * The interface package previously had a public API that could be used by\n * plugins to set persisted boolean 'feature' preferences.\n *\n * While usage was likely non-existent or very small, this function ensures\n * those are migrated to the preferences data structure. The interface\n * package's APIs have now been deprecated and use the preferences store.\n *\n * This will convert data that looks like this:\n * ```js\n * {\n *     'core/interface': {\n *         preferences: {\n *             features: {\n *                 'my-plugin': {\n *                     myPluginFeature: true\n *                 }\n *             }\n *         }\n *     }\n * }\n * ```\n *\n * To this:\n * ```js\n *  * {\n *     'core/preferences': {\n *         preferences: {\n *             'my-plugin': {\n *                 myPluginFeature: true\n *             }\n *         }\n *     }\n * }\n * ```\n *\n * @param {Object} state The local storage state\n *\n * @return {Object} The state with third party preferences moved to the\n *                  preferences data structure.\n */\nexport default function moveThirdPartyFeaturePreferencesToPreferences( state ) {\n\tconst interfaceStoreName = 'core/interface';\n\tconst preferencesStoreName = 'core/preferences';\n\n\tconst interfaceScopes =\n\t\tstate?.[ interfaceStoreName ]?.preferences?.features;\n\tconst interfaceScopeKeys = interfaceScopes\n\t\t? Object.keys( interfaceScopes )\n\t\t: [];\n\n\tif ( ! interfaceScopeKeys?.length ) {\n\t\treturn state;\n\t}\n\n\treturn interfaceScopeKeys.reduce( function ( convertedState, scope ) {\n\t\tif ( scope.startsWith( 'core' ) ) {\n\t\t\treturn convertedState;\n\t\t}\n\n\t\tconst featuresToMigrate = interfaceScopes?.[ scope ];\n\t\tif ( ! featuresToMigrate ) {\n\t\t\treturn convertedState;\n\t\t}\n\n\t\tconst existingMigratedData =\n\t\t\tconvertedState?.[ preferencesStoreName ]?.preferences?.[ scope ];\n\n\t\tif ( existingMigratedData ) {\n\t\t\treturn convertedState;\n\t\t}\n\n\t\tconst otherPreferencesScopes =\n\t\t\tconvertedState?.[ preferencesStoreName ]?.preferences;\n\t\tconst otherInterfaceState = convertedState?.[ interfaceStoreName ];\n\t\tconst otherInterfaceScopes =\n\t\t\tconvertedState?.[ interfaceStoreName ]?.preferences?.features;\n\n\t\treturn {\n\t\t\t...convertedState,\n\t\t\t[ preferencesStoreName ]: {\n\t\t\t\tpreferences: {\n\t\t\t\t\t...otherPreferencesScopes,\n\t\t\t\t\t[ scope ]: featuresToMigrate,\n\t\t\t\t},\n\t\t\t},\n\t\t\t[ interfaceStoreName ]: {\n\t\t\t\t...otherInterfaceState,\n\t\t\t\tpreferences: {\n\t\t\t\t\tfeatures: {\n\t\t\t\t\t\t...otherInterfaceScopes,\n\t\t\t\t\t\t[ scope ]: undefined,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}, state );\n}\n","export default function convertComplementaryAreas( state ) {\n\treturn Object.keys( state ).reduce( ( stateAccumulator, scope ) => {\n\t\tconst scopeData = state[ scope ];\n\n\t\t// If a complementary area is truthy, convert it to the `isComplementaryAreaVisible` boolean.\n\t\tif ( scopeData?.complementaryArea ) {\n\t\t\tconst updatedScopeData = { ...scopeData };\n\t\t\tdelete updatedScopeData.complementaryArea;\n\t\t\tupdatedScopeData.isComplementaryAreaVisible = true;\n\t\t\tstateAccumulator[ scope ] = updatedScopeData;\n\t\t\treturn stateAccumulator;\n\t\t}\n\n\t\treturn stateAccumulator;\n\t}, state );\n}\n","/**\n * Internal dependencies\n */\n\nexport default function convertEditorSettings( data ) {\n\tlet newData = data;\n\tconst settingsToMoveToCore = [\n\t\t'allowRightClickOverrides',\n\t\t'distractionFree',\n\t\t'editorMode',\n\t\t'fixedToolbar',\n\t\t'focusMode',\n\t\t'hiddenBlockTypes',\n\t\t'inactivePanels',\n\t\t'keepCaretInsideBlock',\n\t\t'mostUsedBlocks',\n\t\t'openPanels',\n\t\t'showBlockBreadcrumbs',\n\t\t'showIconLabels',\n\t\t'showListViewByDefault',\n\t\t'isPublishSidebarEnabled',\n\t\t'isComplementaryAreaVisible',\n\t\t'pinnedItems',\n\t];\n\n\tsettingsToMoveToCore.forEach( ( setting ) => {\n\t\tif ( data?.[ 'core/edit-post' ]?.[ setting ] !== undefined ) {\n\t\t\tnewData = {\n\t\t\t\t...newData,\n\t\t\t\tcore: {\n\t\t\t\t\t...newData?.core,\n\t\t\t\t\t[ setting ]: data[ 'core/edit-post' ][ setting ],\n\t\t\t\t},\n\t\t\t};\n\t\t\tdelete newData[ 'core/edit-post' ][ setting ];\n\t\t}\n\n\t\tif ( data?.[ 'core/edit-site' ]?.[ setting ] !== undefined ) {\n\t\t\tdelete newData[ 'core/edit-site' ][ setting ];\n\t\t}\n\t} );\n\n\tif ( Object.keys( newData?.[ 'core/edit-post' ] ?? {} )?.length === 0 ) {\n\t\tdelete newData[ 'core/edit-post' ];\n\t}\n\n\tif ( Object.keys( newData?.[ 'core/edit-site' ] ?? {} )?.length === 0 ) {\n\t\tdelete newData[ 'core/edit-site' ];\n\t}\n\n\treturn newData;\n}\n","/**\n * Internal dependencies\n */\nimport convertComplementaryAreas from './convert-complementary-areas';\nimport convertEditorSettings from './convert-editor-settings';\n\nexport default function convertPreferencesPackageData( data ) {\n\tlet newData = convertComplementaryAreas( data );\n\tnewData = convertEditorSettings( newData );\n\treturn newData;\n}\n","module.exports = window[\"wp\"][\"apiFetch\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Internal dependencies\n */\nimport create from './create';\nimport convertLegacyLocalStorageData from './migrations/legacy-local-storage-data';\nimport convertPreferencesPackageData from './migrations/preferences-package-data';\n\nexport { create };\n\n/**\n * Creates the persistence layer with preloaded data.\n *\n * It prioritizes any data from the server, but falls back first to localStorage\n * restore data, and then to any legacy data.\n *\n * This function is used internally by WordPress in an inline script, so\n * prefixed with `__unstable`.\n *\n * @param {Object} serverData Preferences data preloaded from the server.\n * @param {string} userId     The user id.\n *\n * @return {Object} The persistence layer initialized with the preloaded data.\n */\nexport function __unstableCreatePersistenceLayer( serverData, userId ) {\n\tconst localStorageRestoreKey = `WP_PREFERENCES_USER_${ userId }`;\n\tconst localData = JSON.parse(\n\t\twindow.localStorage.getItem( localStorageRestoreKey )\n\t);\n\n\t// Date parse returns NaN for invalid input. Coerce anything invalid\n\t// into a conveniently comparable zero.\n\tconst serverModified =\n\t\tDate.parse( serverData && serverData._modified ) || 0;\n\tconst localModified = Date.parse( localData && localData._modified ) || 0;\n\n\tlet preloadedData;\n\tif ( serverData && serverModified >= localModified ) {\n\t\tpreloadedData = convertPreferencesPackageData( serverData );\n\t} else if ( localData ) {\n\t\tpreloadedData = convertPreferencesPackageData( localData );\n\t} else {\n\t\t// Check if there is data in the legacy format from the old persistence system.\n\t\tpreloadedData = convertLegacyLocalStorageData( userId );\n\t}\n\n\treturn create( {\n\t\tpreloadedData,\n\t\tlocalStorageRestoreKey,\n\t} );\n}\n"],"names":["debounceAsync","func","delayMS","timeoutId","activePromise","debounced","args","Promise","resolve","reject","then","thenArgs","catch","error","finally","clearTimeout","setTimeout","apiFetch","EMPTY_OBJECT","localStorage","window","create","preloadedData","localStorageRestoreKey","requestDebounceMS","cache","debouncedApiFetch","get","user","path","serverData","meta","persisted_preferences","localData","JSON","parse","getItem","serverTimestamp","Date","_modified","localTimestamp","set","newData","dataWithTimestamp","toISOString","setItem","stringify","method","keepalive","data","convertEditPostPanels","preferences","_preferences$panels","panels","Object","keys","reduce","convertedData","panelName","panel","enabled","inactivePanels","push","opened","openPanels","moveFeaturePreferences","moveThirdPartyFeaturePreferences","moveIndividualPreference","moveInterfaceEnableItems","getLegacyData","userId","key","unparsedData","convertLegacyData","from","to","convertLegacyLocalStorageData","state","sourceStoreName","preferencesStoreName","interfaceStoreName","interfaceFeatures","features","sourceFeatures","featuresToMigrate","existingPreferences","updatedInterfaceState","otherInterfaceState","otherInterfaceScopes","undefined","updatedSourceState","otherSourceState","sourcePreferences","identity","arg","moveIndividualPreferenceToPreferences","scope","convert","sourcePreference","targetPreference","otherScopes","otherPreferences","allSourcePreferences","convertedPreferences","_state$preferencesSto","_sourceEnableItems$si","_sourceEnableItems$mu","sourceEnableItems","enableItems","allPreferences","sourceComplementaryAreas","singleEnableItems","complementaryArea","preferencesWithConvertedComplementaryAreas","accumulator","sourcePinnedItems","multipleEnableItems","pinnedItems","allConvertedData","otherInterfaceItems","moveThirdPartyFeaturePreferencesToPreferences","interfaceScopes","interfaceScopeKeys","length","convertedState","startsWith","existingMigratedData","otherPreferencesScopes","convertComplementaryAreas","stateAccumulator","scopeData","updatedScopeData","isComplementaryAreaVisible","convertEditorSettings","_newData$coreEditPo","_newData$coreEditSi","settingsToMoveToCore","forEach","setting","core","convertPreferencesPackageData","__unstableCreatePersistenceLayer","serverModified","localModified"],"sourceRoot":""}