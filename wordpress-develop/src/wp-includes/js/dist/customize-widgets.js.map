{"version":3,"file":"customize-widgets.js","mappings":"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AAC,GAC5BuO,yGAAgD,CAC/C,+HAA+H,EAC/H,8BACD,CAAC;;;;;;;;;;;;;;;ACTF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS1V,mBAAmBA,CAAE/B,KAAK,EAAG;EAC5C,OAAO;IACNyS,IAAI,EAAE,wBAAwB;IAC9BzS;EACD,CAAC;AACF;;;;;;;;;;;;;;;AC1CA;AACA;AACA;AACO,MAAM2X,UAAU,GAAG,wBAAwB;;;;;;;;;;;;;;;;;;;;;ACHlD;AACA;AACA;AAC6D;;AAE7D;AACA;AACA;AACgC;AACS;AACJ;AACI;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMK,WAAW,GAAG;EACnBF,OAAO;EACPC,SAAS;EACT3Z,OAAOA,uCAAAA;AACR,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMlG,KAAK,GAAG0f,iEAAgB,CAAED,kDAAU,EAAEK,WAAY,CAAC;AAChEH,yDAAQ,CAAE3f,KAAM,CAAC;;;;;;;;;;;;;;;;;AClCjB;AACA;AACA;AACkD;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA,SAASggB,kBAAkBA,CAAEna,KAAK,GAAG,KAAK,EAAEoa,MAAM,EAAG;EACpD,QAASA,MAAM,CAAC1F,IAAI;IACnB,KAAK,wBAAwB;MAC5B,OAAO0F,MAAM,CAACnY,KAAK;EACrB;EACA,OAAOjC,KAAK;AACb;AAEA,iEAAeka,gEAAe,CAAE;EAC/BC;AACD,CAAE,CAAC,EAAC;;;;;;;;;;;;;;;;ACrBJ,MAAME,qBAAqB,GAAG;EAC7B7U,YAAY,EAAE8U,SAAS;EACvB5U,cAAc,EAAE4U;AACjB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","sources":["webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/block-appender/@wordpress/customize-widgets/src/components/block-appender/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/block-inspector-button/@wordpress/customize-widgets/src/components/block-inspector-button/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/customize-widgets/@wordpress/customize-widgets/src/components/customize-widgets/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/customize-widgets/@wordpress/customize-widgets/src/components/customize-widgets/use-clear-selected-block.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/error-boundary/@wordpress/customize-widgets/src/components/error-boundary/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/focus-control/@wordpress/customize-widgets/src/components/focus-control/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/focus-control/@wordpress/customize-widgets/src/components/focus-control/use-blocks-focus-control.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/header/@wordpress/customize-widgets/src/components/header/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/inserter/@wordpress/customize-widgets/src/components/inserter/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/inserter/@wordpress/customize-widgets/src/components/inserter/use-inserter.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/keyboard-shortcut-help-modal/@wordpress/customize-widgets/src/components/keyboard-shortcut-help-modal/config.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/keyboard-shortcut-help-modal/@wordpress/customize-widgets/src/components/keyboard-shortcut-help-modal/dynamic-shortcut.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/keyboard-shortcut-help-modal/@wordpress/customize-widgets/src/components/keyboard-shortcut-help-modal/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/keyboard-shortcut-help-modal/@wordpress/customize-widgets/src/components/keyboard-shortcut-help-modal/shortcut.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/keyboard-shortcuts/@wordpress/customize-widgets/src/components/keyboard-shortcuts/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/more-menu/@wordpress/customize-widgets/src/components/more-menu/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/sidebar-block-editor/@wordpress/customize-widgets/src/components/sidebar-block-editor/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/sidebar-block-editor/@wordpress/customize-widgets/src/components/sidebar-block-editor/sidebar-adapter.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/sidebar-block-editor/@wordpress/customize-widgets/src/components/sidebar-block-editor/sidebar-editor-provider.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/sidebar-block-editor/@wordpress/customize-widgets/src/components/sidebar-block-editor/use-sidebar-block-editor.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/sidebar-controls/@wordpress/customize-widgets/src/components/sidebar-controls/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/components/welcome-guide/@wordpress/customize-widgets/src/components/welcome-guide/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/controls/@wordpress/customize-widgets/src/controls/inserter-outer-section.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/controls/@wordpress/customize-widgets/src/controls/inspector-section.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/controls/@wordpress/customize-widgets/src/controls/sidebar-control.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/controls/@wordpress/customize-widgets/src/controls/sidebar-section.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/filters/@wordpress/customize-widgets/src/filters/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/filters/@wordpress/customize-widgets/src/filters/move-to-sidebar.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/filters/@wordpress/customize-widgets/src/filters/replace-media-upload.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/filters/@wordpress/customize-widgets/src/filters/wide-widget-display.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/@wordpress/customize-widgets/src/lock-unlock.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/actions.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/constants.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/index.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/reducer.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/selectors.js","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/@wordpress/customize-widgets/src/utils.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/close-small.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/external.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/more-vertical.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/plus.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/redo.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/undo.js","webpack://wp/./node_modules/fast-deep-equal/es6/index.js","webpack://wp/external window \"ReactJSXRuntime\"","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/external window [\"wp\",\"blockLibrary\"]","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"dom\"]","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"hooks\"]","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"isShallowEqual\"]","webpack://wp/external window [\"wp\",\"keyboardShortcuts\"]","webpack://wp/external window [\"wp\",\"keycodes\"]","webpack://wp/external window [\"wp\",\"mediaUtils\"]","webpack://wp/external window [\"wp\",\"preferences\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/external window [\"wp\",\"privateApis\"]","webpack://wp/external window [\"wp\",\"widgets\"]","webpack://wp/./node_modules/clsx/dist/clsx.mjs","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/./node_modules/@wordpress/customize-widgets/build-module/@wordpress/customize-widgets/src/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport {\n\tButtonBlockAppender,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\n\nexport default function BlockAppender( props ) {\n\tconst ref = useRef();\n\tconst isBlocksListEmpty = useSelect(\n\t\t( select ) => select( blockEditorStore ).getBlockCount() === 0\n\t);\n\n\t// Move the focus to the block appender to prevent focus from\n\t// being lost when emptying the widget area.\n\tuseEffect( () => {\n\t\tif ( isBlocksListEmpty && ref.current ) {\n\t\t\tconst { ownerDocument } = ref.current;\n\n\t\t\tif (\n\t\t\t\t! ownerDocument.activeElement ||\n\t\t\t\townerDocument.activeElement === ownerDocument.body\n\t\t\t) {\n\t\t\t\tref.current.focus();\n\t\t\t}\n\t\t}\n\t}, [ isBlocksListEmpty ] );\n\n\treturn <ButtonBlockAppender { ...props } ref={ ref } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nfunction BlockInspectorButton( { inspector, closeMenu, ...props } ) {\n\tconst selectedBlockClientId = useSelect(\n\t\t( select ) => select( blockEditorStore ).getSelectedBlockClientId(),\n\t\t[]\n\t);\n\n\tconst selectedBlock = useMemo(\n\t\t() => document.getElementById( `block-${ selectedBlockClientId }` ),\n\t\t[ selectedBlockClientId ]\n\t);\n\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\t// Open the inspector.\n\t\t\t\tinspector.open( {\n\t\t\t\t\treturnFocusWhenClose: selectedBlock,\n\t\t\t\t} );\n\t\t\t\t// Then close the dropdown menu.\n\t\t\t\tcloseMenu();\n\t\t\t} }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ __( 'Show more settings' ) }\n\t\t</MenuItem>\n\t);\n}\n\nexport default BlockInspectorButton;\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useRef, createPortal } from '@wordpress/element';\nimport { SlotFillProvider, Popover } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ErrorBoundary from '../error-boundary';\nimport SidebarBlockEditor from '../sidebar-block-editor';\nimport FocusControl from '../focus-control';\nimport SidebarControls from '../sidebar-controls';\nimport useClearSelectedBlock from './use-clear-selected-block';\n\nexport default function CustomizeWidgets( {\n\tapi,\n\tsidebarControls,\n\tblockEditorSettings,\n} ) {\n\tconst [ activeSidebarControl, setActiveSidebarControl ] = useState( null );\n\tconst parentContainer = document.getElementById(\n\t\t'customize-theme-controls'\n\t);\n\tconst popoverRef = useRef();\n\n\tuseClearSelectedBlock( activeSidebarControl, popoverRef );\n\n\tuseEffect( () => {\n\t\tconst unsubscribers = sidebarControls.map( ( sidebarControl ) =>\n\t\t\tsidebarControl.subscribe( ( expanded ) => {\n\t\t\t\tif ( expanded ) {\n\t\t\t\t\tsetActiveSidebarControl( sidebarControl );\n\t\t\t\t}\n\t\t\t} )\n\t\t);\n\n\t\treturn () => {\n\t\t\tunsubscribers.forEach( ( unsubscriber ) => unsubscriber() );\n\t\t};\n\t}, [ sidebarControls ] );\n\n\tconst activeSidebar =\n\t\tactiveSidebarControl &&\n\t\tcreatePortal(\n\t\t\t<ErrorBoundary>\n\t\t\t\t<SidebarBlockEditor\n\t\t\t\t\tkey={ activeSidebarControl.id }\n\t\t\t\t\tblockEditorSettings={ blockEditorSettings }\n\t\t\t\t\tsidebar={ activeSidebarControl.sidebarAdapter }\n\t\t\t\t\tinserter={ activeSidebarControl.inserter }\n\t\t\t\t\tinspector={ activeSidebarControl.inspector }\n\t\t\t\t/>\n\t\t\t</ErrorBoundary>,\n\t\t\tactiveSidebarControl.container[ 0 ]\n\t\t);\n\n\t// We have to portal this to the parent of both the editor and the inspector,\n\t// so that the popovers will appear above both of them.\n\tconst popover =\n\t\tparentContainer &&\n\t\tcreatePortal(\n\t\t\t<div className=\"customize-widgets-popover\" ref={ popoverRef }>\n\t\t\t\t<Popover.Slot />\n\t\t\t</div>,\n\t\t\tparentContainer\n\t\t);\n\n\treturn (\n\t\t<SlotFillProvider>\n\t\t\t<SidebarControls\n\t\t\t\tsidebarControls={ sidebarControls }\n\t\t\t\tactiveSidebarControl={ activeSidebarControl }\n\t\t\t>\n\t\t\t\t<FocusControl api={ api } sidebarControls={ sidebarControls }>\n\t\t\t\t\t{ activeSidebar }\n\t\t\t\t\t{ popover }\n\t\t\t\t</FocusControl>\n\t\t\t</SidebarControls>\n\t\t</SlotFillProvider>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * We can't just use <BlockSelectionClearer> because the customizer has\n * many root nodes rather than just one in the post editor.\n * We need to listen to the focus events in all those roots, and also in\n * the preview iframe.\n * This hook will clear the selected block when focusing outside the editor,\n * with a few exceptions:\n * 1. Focusing on popovers.\n * 2. Focusing on the inspector.\n * 3. Focusing on any modals/dialogs.\n * These cases are normally triggered by user interactions from the editor,\n * not by explicitly focusing outside the editor, hence no need for clearing.\n *\n * @param {Object} sidebarControl The sidebar control instance.\n * @param {Object} popoverRef     The ref object of the popover node container.\n */\nexport default function useClearSelectedBlock( sidebarControl, popoverRef ) {\n\tconst { hasSelectedBlock, hasMultiSelection } =\n\t\tuseSelect( blockEditorStore );\n\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\tif ( popoverRef.current && sidebarControl ) {\n\t\t\tconst inspector = sidebarControl.inspector;\n\t\t\tconst container = sidebarControl.container[ 0 ];\n\t\t\tconst ownerDocument = container.ownerDocument;\n\t\t\tconst ownerWindow = ownerDocument.defaultView;\n\n\t\t\tfunction handleClearSelectedBlock( element ) {\n\t\t\t\tif (\n\t\t\t\t\t// 1. Make sure there are blocks being selected.\n\t\t\t\t\t( hasSelectedBlock() || hasMultiSelection() ) &&\n\t\t\t\t\t// 2. The element should exist in the DOM (not deleted).\n\t\t\t\t\telement &&\n\t\t\t\t\townerDocument.contains( element ) &&\n\t\t\t\t\t// 3. It should also not exist in the container, the popover, nor the dialog.\n\t\t\t\t\t! container.contains( element ) &&\n\t\t\t\t\t! popoverRef.current.contains( element ) &&\n\t\t\t\t\t! element.closest( '[role=\"dialog\"]' ) &&\n\t\t\t\t\t// 4. The inspector should not be opened.\n\t\t\t\t\t! inspector.expanded()\n\t\t\t\t) {\n\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Handle mouse down in the same document.\n\t\t\tfunction handleMouseDown( event ) {\n\t\t\t\thandleClearSelectedBlock( event.target );\n\t\t\t}\n\t\t\t// Handle focusing outside the current document, like to iframes.\n\t\t\tfunction handleBlur() {\n\t\t\t\thandleClearSelectedBlock( ownerDocument.activeElement );\n\t\t\t}\n\n\t\t\townerDocument.addEventListener( 'mousedown', handleMouseDown );\n\t\t\townerWindow.addEventListener( 'blur', handleBlur );\n\n\t\t\treturn () => {\n\t\t\t\townerDocument.removeEventListener(\n\t\t\t\t\t'mousedown',\n\t\t\t\t\thandleMouseDown\n\t\t\t\t);\n\t\t\t\townerWindow.removeEventListener( 'blur', handleBlur );\n\t\t\t};\n\t\t}\n\t}, [\n\t\tpopoverRef,\n\t\tsidebarControl,\n\t\thasSelectedBlock,\n\t\thasMultiSelection,\n\t\tclearSelectedBlock,\n\t] );\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Warning } from '@wordpress/block-editor';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { doAction } from '@wordpress/hooks';\n\nfunction CopyButton( { text, children } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button\n\t\t\t// TODO: Switch to `true` (40px size) if possible\n\t\t\t__next40pxDefaultSize={ false }\n\t\t\tvariant=\"secondary\"\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nexport default class ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tthis.setState( { error } );\n\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\treturn (\n\t\t\t<Warning\n\t\t\t\tclassName=\"customize-widgets-error-boundary\"\n\t\t\t\tactions={ [\n\t\t\t\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\n\t\t\t\t\t\t{ __( 'Copy Error' ) }\n\t\t\t\t\t</CopyButton>,\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ __( 'The editor has encountered an unexpected error.' ) }\n\t\t\t</Warning>\n\t\t);\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseState,\n\tuseEffect,\n\tuseContext,\n\tuseCallback,\n\tuseMemo,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { settingIdToWidgetId } from '../../utils';\n\nconst FocusControlContext = createContext();\n\nexport default function FocusControl( { api, sidebarControls, children } ) {\n\tconst [ focusedWidgetIdRef, setFocusedWidgetIdRef ] = useState( {\n\t\tcurrent: null,\n\t} );\n\n\tconst focusWidget = useCallback(\n\t\t( widgetId ) => {\n\t\t\tfor ( const sidebarControl of sidebarControls ) {\n\t\t\t\tconst widgets = sidebarControl.setting.get();\n\n\t\t\t\tif ( widgets.includes( widgetId ) ) {\n\t\t\t\t\tsidebarControl.sectionInstance.expand( {\n\t\t\t\t\t\t// Schedule it after the complete callback so that\n\t\t\t\t\t\t// it won't be overridden by the \"Back\" button focus.\n\t\t\t\t\t\tcompleteCallback() {\n\t\t\t\t\t\t\t// Create a \"ref-like\" object every time to ensure\n\t\t\t\t\t\t\t// the same widget id can also triggers the focus control.\n\t\t\t\t\t\t\tsetFocusedWidgetIdRef( { current: widgetId } );\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[ sidebarControls ]\n\t);\n\n\tuseEffect( () => {\n\t\tfunction handleFocus( settingId ) {\n\t\t\tconst widgetId = settingIdToWidgetId( settingId );\n\n\t\t\tfocusWidget( widgetId );\n\t\t}\n\n\t\tlet previewBound = false;\n\n\t\tfunction handleReady() {\n\t\t\tapi.previewer.preview.bind(\n\t\t\t\t'focus-control-for-setting',\n\t\t\t\thandleFocus\n\t\t\t);\n\t\t\tpreviewBound = true;\n\t\t}\n\n\t\tapi.previewer.bind( 'ready', handleReady );\n\n\t\treturn () => {\n\t\t\tapi.previewer.unbind( 'ready', handleReady );\n\t\t\tif ( previewBound ) {\n\t\t\t\tapi.previewer.preview.unbind(\n\t\t\t\t\t'focus-control-for-setting',\n\t\t\t\t\thandleFocus\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}, [ api, focusWidget ] );\n\n\tconst context = useMemo(\n\t\t() => [ focusedWidgetIdRef, focusWidget ],\n\t\t[ focusedWidgetIdRef, focusWidget ]\n\t);\n\n\treturn (\n\t\t<FocusControlContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</FocusControlContext.Provider>\n\t);\n}\n\nexport const useFocusControl = () => useContext( FocusControlContext );\n","/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { getWidgetIdFromBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport { useFocusControl } from '.';\n\nexport default function useBlocksFocusControl( blocks ) {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\tconst [ focusedWidgetIdRef ] = useFocusControl();\n\n\tconst blocksRef = useRef( blocks );\n\n\tuseEffect( () => {\n\t\tblocksRef.current = blocks;\n\t}, [ blocks ] );\n\n\tuseEffect( () => {\n\t\tif ( focusedWidgetIdRef.current ) {\n\t\t\tconst focusedBlock = blocksRef.current.find(\n\t\t\t\t( block ) =>\n\t\t\t\t\tgetWidgetIdFromBlock( block ) === focusedWidgetIdRef.current\n\t\t\t);\n\n\t\t\tif ( focusedBlock ) {\n\t\t\t\tselectBlock( focusedBlock.clientId );\n\t\t\t\t// If the block is already being selected, the DOM node won't\n\t\t\t\t// get focused again automatically.\n\t\t\t\t// We select the DOM and focus it manually here.\n\t\t\t\tconst blockNode = document.querySelector(\n\t\t\t\t\t`[data-block=\"${ focusedBlock.clientId }\"]`\n\t\t\t\t);\n\t\t\t\tblockNode?.focus();\n\t\t\t}\n\t\t}\n\t}, [ focusedWidgetIdRef, selectBlock ] );\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { ToolbarButton } from '@wordpress/components';\nimport { NavigableToolbar } from '@wordpress/block-editor';\nimport { createPortal, useEffect, useState } from '@wordpress/element';\nimport { displayShortcut, isAppleOS } from '@wordpress/keycodes';\nimport { __, _x, isRTL } from '@wordpress/i18n';\nimport { plus, undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\nimport MoreMenu from '../more-menu';\n\nfunction Header( {\n\tsidebar,\n\tinserter,\n\tisInserterOpened,\n\tsetIsInserterOpened,\n\tisFixedToolbarActive,\n} ) {\n\tconst [ [ hasUndo, hasRedo ], setUndoRedo ] = useState( [\n\t\tsidebar.hasUndo(),\n\t\tsidebar.hasRedo(),\n\t] );\n\n\tconst shortcut = isAppleOS()\n\t\t? displayShortcut.primaryShift( 'z' )\n\t\t: displayShortcut.primary( 'y' );\n\n\tuseEffect( () => {\n\t\treturn sidebar.subscribeHistory( () => {\n\t\t\tsetUndoRedo( [ sidebar.hasUndo(), sidebar.hasRedo() ] );\n\t\t} );\n\t}, [ sidebar ] );\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( 'customize-widgets-header', {\n\t\t\t\t\t'is-fixed-toolbar-active': isFixedToolbarActive,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<NavigableToolbar\n\t\t\t\t\tclassName=\"customize-widgets-header-toolbar\"\n\t\t\t\t\taria-label={ __( 'Document tools' ) }\n\t\t\t\t>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\tlabel={ __( 'Undo' ) }\n\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t\t\t\tdisabled={ ! hasUndo }\n\t\t\t\t\t\tonClick={ sidebar.undo }\n\t\t\t\t\t\tclassName=\"customize-widgets-editor-history-button undo-button\"\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\tlabel={ __( 'Redo' ) }\n\t\t\t\t\t\tshortcut={ shortcut }\n\t\t\t\t\t\tdisabled={ ! hasRedo }\n\t\t\t\t\t\tonClick={ sidebar.redo }\n\t\t\t\t\t\tclassName=\"customize-widgets-editor-history-button redo-button\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tclassName=\"customize-widgets-header-toolbar__inserter-toggle\"\n\t\t\t\t\t\tisPressed={ isInserterOpened }\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t'Add block',\n\t\t\t\t\t\t\t'Generic label for block inserter button'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetIsInserterOpened( ( isOpen ) => ! isOpen );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<MoreMenu />\n\t\t\t\t</NavigableToolbar>\n\t\t\t</div>\n\n\t\t\t{ createPortal(\n\t\t\t\t<Inserter setIsOpened={ setIsInserterOpened } />,\n\t\t\t\tinserter.contentContainer[ 0 ]\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default Header;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalLibrary as Library } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as customizeWidgetsStore } from '../../store';\n\nfunction Inserter( { setIsOpened } ) {\n\tconst inserterTitleId = useInstanceId(\n\t\tInserter,\n\t\t'customize-widget-layout__inserter-panel-title'\n\t);\n\tconst insertionPoint = useSelect(\n\t\t( select ) =>\n\t\t\tselect( customizeWidgetsStore ).__experimentalGetInsertionPoint(),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"customize-widgets-layout__inserter-panel\"\n\t\t\taria-labelledby={ inserterTitleId }\n\t\t>\n\t\t\t<div className=\"customize-widgets-layout__inserter-panel-header\">\n\t\t\t\t<h2\n\t\t\t\t\tid={ inserterTitleId }\n\t\t\t\t\tclassName=\"customize-widgets-layout__inserter-panel-header-title\"\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Add a block' ) }\n\t\t\t\t</h2>\n\t\t\t\t<Button\n\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\n\t\t\t\t\t__next40pxDefaultSize={ false }\n\t\t\t\t\tclassName=\"customize-widgets-layout__inserter-panel-header-close-button\"\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tonClick={ () => setIsOpened( false ) }\n\t\t\t\t\taria-label={ __( 'Close inserter' ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"customize-widgets-layout__inserter-panel-content\">\n\t\t\t\t<Library\n\t\t\t\t\trootClientId={ insertionPoint.rootClientId }\n\t\t\t\t\t__experimentalInsertionIndex={\n\t\t\t\t\t\tinsertionPoint.insertionIndex\n\t\t\t\t\t}\n\t\t\t\t\tshowInserterHelpPanel\n\t\t\t\t\tonSelect={ () => setIsOpened( false ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Inserter;\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch, select as selectStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as customizeWidgetsStore } from '../../store';\n\nexport default function useInserter( inserter ) {\n\tconst isInserterOpened = useSelect(\n\t\t( select ) => select( customizeWidgetsStore ).isInserterOpened(),\n\t\t[]\n\t);\n\tconst { setIsInserterOpened } = useDispatch( customizeWidgetsStore );\n\n\tuseEffect( () => {\n\t\tif ( isInserterOpened ) {\n\t\t\tinserter.open();\n\t\t} else {\n\t\t\tinserter.close();\n\t\t}\n\t}, [ inserter, isInserterOpened ] );\n\n\treturn [\n\t\tisInserterOpened,\n\t\tuseCallback(\n\t\t\t( updater ) => {\n\t\t\t\tlet isOpen = updater;\n\t\t\t\tif ( typeof updater === 'function' ) {\n\t\t\t\t\tisOpen = updater(\n\t\t\t\t\t\tselectStore( customizeWidgetsStore ).isInserterOpened()\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tsetIsInserterOpened( isOpen );\n\t\t\t},\n\t\t\t[ setIsInserterOpened ]\n\t\t),\n\t];\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const textFormattingShortcuts = [\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'b' },\n\t\tdescription: __( 'Make the selected text bold.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'i' },\n\t\tdescription: __( 'Make the selected text italic.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'k' },\n\t\tdescription: __( 'Convert the selected text into a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'k' },\n\t\tdescription: __( 'Remove a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { character: '[[' },\n\t\tdescription: __( 'Insert a link to a post or page.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'u' },\n\t\tdescription: __( 'Underline the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'd' },\n\t\tdescription: __( 'Strikethrough the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'x' },\n\t\tdescription: __( 'Make the selected text inline code.' ),\n\t},\n\t{\n\t\tkeyCombination: {\n\t\t\tmodifier: 'access',\n\t\t\tcharacter: '0',\n\t\t},\n\t\taliases: [\n\t\t\t{\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: '7',\n\t\t\t},\n\t\t],\n\t\tdescription: __( 'Convert the current heading to a paragraph.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: '1-6' },\n\t\tdescription: __(\n\t\t\t'Convert the current paragraph or heading to a heading of level 1 to 6.'\n\t\t),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'SPACE' },\n\t\tdescription: __( 'Add non breaking space.' ),\n\t},\n];\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from './shortcut';\n\nfunction DynamicShortcut( { name } ) {\n\tconst { keyCombination, description, aliases } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetShortcutKeyCombination,\n\t\t\t\tgetShortcutDescription,\n\t\t\t\tgetShortcutAliases,\n\t\t\t} = select( keyboardShortcutsStore );\n\n\t\t\treturn {\n\t\t\t\tkeyCombination: getShortcutKeyCombination( name ),\n\t\t\t\taliases: getShortcutAliases( name ),\n\t\t\t\tdescription: getShortcutDescription( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! keyCombination ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Shortcut\n\t\t\tkeyCombination={ keyCombination }\n\t\t\tdescription={ description }\n\t\t\taliases={ aliases }\n\t\t/>\n\t);\n}\n\nexport default DynamicShortcut;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { textFormattingShortcuts } from './config';\nimport Shortcut from './shortcut';\nimport DynamicShortcut from './dynamic-shortcut';\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t<ul\n\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-list\"\n\t\trole=\"list\"\n\t>\n\t\t{ shortcuts.map( ( shortcut, index ) => (\n\t\t\t<li\n\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t{ typeof shortcut === 'string' ? (\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\n\t\t\t\t) : (\n\t\t\t\t\t<Shortcut { ...shortcut } />\n\t\t\t\t) }\n\t\t\t</li>\n\t\t) ) }\n\t</ul>\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\n);\n\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\n\t<section\n\t\tclassName={ clsx(\n\t\t\t'customize-widgets-keyboard-shortcut-help-modal__section',\n\t\t\tclassName\n\t\t) }\n\t>\n\t\t{ !! title && (\n\t\t\t<h2 className=\"customize-widgets-keyboard-shortcut-help-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t) }\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nconst ShortcutCategorySection = ( {\n\ttitle,\n\tcategoryName,\n\tadditionalShortcuts = [],\n} ) => {\n\tconst categoryShortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\n\t\t\t\tcategoryName\n\t\t\t);\n\t\t},\n\t\t[ categoryName ]\n\t);\n\n\treturn (\n\t\t<ShortcutSection\n\t\t\ttitle={ title }\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\n\t\t/>\n\t);\n};\n\nexport default function KeyboardShortcutHelpModal( {\n\tisModalActive,\n\ttoggleModal,\n} ) {\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tregisterShortcut( {\n\t\tname: 'core/customize-widgets/keyboard-shortcuts',\n\t\tcategory: 'main',\n\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\tkeyCombination: {\n\t\t\tmodifier: 'access',\n\t\t\tcharacter: 'h',\n\t\t},\n\t} );\n\n\tuseShortcut( 'core/customize-widgets/keyboard-shortcuts', toggleModal );\n\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal\"\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\n\t\t\tonRequestClose={ toggleModal }\n\t\t>\n\t\t\t<ShortcutSection\n\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__main-shortcuts\"\n\t\t\t\tshortcuts={ [ 'core/customize-widgets/keyboard-shortcuts' ] }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\n\t\t\t\tcategoryName=\"global\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\n\t\t\t\tcategoryName=\"selection\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\n\t\t\t\tcategoryName=\"block\"\n\t\t\t\tadditionalShortcuts={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeyCombination: { character: '/' },\n\t\t\t\t\t\tdescription: __(\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t\t<ShortcutSection\n\t\t\t\ttitle={ __( 'Text formatting' ) }\n\t\t\t\tshortcuts={ textFormattingShortcuts }\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { displayShortcutList, shortcutAriaLabel } from '@wordpress/keycodes';\n\nfunction KeyCombination( { keyCombination, forceAriaLabel } ) {\n\tconst shortcut = keyCombination.modifier\n\t\t? displayShortcutList[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst ariaLabel = keyCombination.modifier\n\t\t? shortcutAriaLabel[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\n\treturn (\n\t\t<kbd\n\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-key-combination\"\n\t\t\taria-label={ forceAriaLabel || ariaLabel }\n\t\t>\n\t\t\t{ ( Array.isArray( shortcut ) ? shortcut : [ shortcut ] ).map(\n\t\t\t\t( character, index ) => {\n\t\t\t\t\tif ( character === '+' ) {\n\t\t\t\t\t\treturn <Fragment key={ index }>{ character }</Fragment>;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<kbd\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-key\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ character }\n\t\t\t\t\t\t</kbd>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t) }\n\t\t</kbd>\n\t);\n}\n\nfunction Shortcut( { description, keyCombination, aliases = [], ariaLabel } ) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-description\">\n\t\t\t\t{ description }\n\t\t\t</div>\n\t\t\t<div className=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-term\">\n\t\t\t\t<KeyCombination\n\t\t\t\t\tkeyCombination={ keyCombination }\n\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ aliases.map( ( alias, index ) => (\n\t\t\t\t\t<KeyCombination\n\t\t\t\t\t\tkeyCombination={ alias }\n\t\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Shortcut;\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { isAppleOS } from '@wordpress/keycodes';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\nfunction KeyboardShortcuts( { undo, redo, save } ) {\n\tuseShortcut( 'core/customize-widgets/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/customize-widgets/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/customize-widgets/save', ( event ) => {\n\t\tevent.preventDefault();\n\t\tsave();\n\t} );\n\n\treturn null;\n}\n\nfunction KeyboardShortcutsRegister() {\n\tconst { registerShortcut, unregisterShortcut } = useDispatch(\n\t\tkeyboardShortcutsStore\n\t);\n\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t\t// Disable on Apple OS because it conflicts with the browser's\n\t\t\t// history shortcut. It's a fine alias for both Windows and Linux.\n\t\t\t// Since there's no conflict for Ctrl+Shift+Z on both Windows and\n\t\t\t// Linux, we keep it as the default for consistency.\n\t\t\taliases: isAppleOS()\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmodifier: 'primary',\n\t\t\t\t\t\t\tcharacter: 'y',\n\t\t\t\t\t\t},\n\t\t\t\t  ],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\treturn () => {\n\t\t\tunregisterShortcut( 'core/customize-widgets/undo' );\n\t\t\tunregisterShortcut( 'core/customize-widgets/redo' );\n\t\t\tunregisterShortcut( 'core/customize-widgets/save' );\n\t\t};\n\t}, [ registerShortcut ] );\n\n\treturn null;\n}\n\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\nexport default KeyboardShortcuts;\n","/**\n * WordPress dependencies\n */\nimport {\n\tMenuGroup,\n\tMenuItem,\n\tToolbarDropdownMenu,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\nimport { external, moreVertical } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { PreferenceToggleMenuItem } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport KeyboardShortcutHelpModal from '../keyboard-shortcut-help-modal';\n\nexport default function MoreMenu() {\n\tconst [\n\t\tisKeyboardShortcutsModalActive,\n\t\tsetIsKeyboardShortcutsModalVisible,\n\t] = useState( false );\n\tconst toggleKeyboardShortcutsModal = () =>\n\t\tsetIsKeyboardShortcutsModalVisible( ! isKeyboardShortcutsModalActive );\n\n\tuseShortcut(\n\t\t'core/customize-widgets/keyboard-shortcuts',\n\t\ttoggleKeyboardShortcutsModal\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarDropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'Options' ) }\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tplacement: 'bottom-end',\n\t\t\t\t\tclassName: 'more-menu-dropdown__content',\n\t\t\t\t} }\n\t\t\t\ttoggleProps={ {\n\t\t\t\t\ttooltipPosition: 'bottom',\n\t\t\t\t\tsize: 'compact',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ () => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<MenuGroup label={ _x( 'View', 'noun' ) }>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/customize-widgets\"\n\t\t\t\t\t\t\t\tname=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tsetIsKeyboardShortcutsModalVisible( true );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.access( 'h' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Keyboard shortcuts' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/customize-widgets\"\n\t\t\t\t\t\t\t\tname=\"welcomeGuide\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Welcome Guide' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/block-based-widgets-editor/'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Help' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Preferences' ) }>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/customize-widgets\"\n\t\t\t\t\t\t\t\tname=\"keepCaretInsideBlock\"\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Aids screen readers by stopping text caret from leaving blocks.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</ToolbarDropdownMenu>\n\t\t\t<KeyboardShortcutHelpModal\n\t\t\t\tisModalActive={ isKeyboardShortcutsModalActive }\n\t\t\t\ttoggleModal={ toggleKeyboardShortcutsModal }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo, createPortal } from '@wordpress/element';\nimport {\n\tBlockList,\n\tBlockToolbar,\n\tBlockInspector,\n\tprivateApis as blockEditorPrivateApis,\n\t__unstableBlockSettingsMenuFirstItem,\n} from '@wordpress/block-editor';\nimport { uploadMedia } from '@wordpress/media-utils';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { privateApis as blockLibraryPrivateApis } from '@wordpress/block-library';\n\n/**\n * Internal dependencies\n */\nimport BlockInspectorButton from '../block-inspector-button';\nimport Header from '../header';\nimport useInserter from '../inserter/use-inserter';\nimport SidebarEditorProvider from './sidebar-editor-provider';\nimport WelcomeGuide from '../welcome-guide';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\nimport BlockAppender from '../block-appender';\nimport { unlock } from '../../lock-unlock';\n\nconst { ExperimentalBlockCanvas: BlockCanvas } = unlock(\n\tblockEditorPrivateApis\n);\n\nconst { BlockKeyboardShortcuts } = unlock( blockLibraryPrivateApis );\n\nexport default function SidebarBlockEditor( {\n\tblockEditorSettings,\n\tsidebar,\n\tinserter,\n\tinspector,\n} ) {\n\tconst [ isInserterOpened, setIsInserterOpened ] = useInserter( inserter );\n\tconst isMediumViewport = useViewportMatch( 'small' );\n\tconst {\n\t\thasUploadPermissions,\n\t\tisFixedToolbarActive,\n\t\tkeepCaretInsideBlock,\n\t\tisWelcomeGuideActive,\n\t} = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\treturn {\n\t\t\thasUploadPermissions:\n\t\t\t\tselect( coreStore ).canUser( 'create', {\n\t\t\t\t\tkind: 'root',\n\t\t\t\t\tname: 'media',\n\t\t\t\t} ) ?? true,\n\t\t\tisFixedToolbarActive: !! get(\n\t\t\t\t'core/customize-widgets',\n\t\t\t\t'fixedToolbar'\n\t\t\t),\n\t\t\tkeepCaretInsideBlock: !! get(\n\t\t\t\t'core/customize-widgets',\n\t\t\t\t'keepCaretInsideBlock'\n\t\t\t),\n\t\t\tisWelcomeGuideActive: !! get(\n\t\t\t\t'core/customize-widgets',\n\t\t\t\t'welcomeGuide'\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst settings = useMemo( () => {\n\t\tlet mediaUploadBlockEditor;\n\t\tif ( hasUploadPermissions ) {\n\t\t\tmediaUploadBlockEditor = ( { onError, ...argumentsObject } ) => {\n\t\t\t\tuploadMedia( {\n\t\t\t\t\twpAllowedMimeTypes: blockEditorSettings.allowedMimeTypes,\n\t\t\t\t\tonError: ( { message } ) => onError( message ),\n\t\t\t\t\t...argumentsObject,\n\t\t\t\t} );\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t...blockEditorSettings,\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpened,\n\t\t\tmediaUpload: mediaUploadBlockEditor,\n\t\t\thasFixedToolbar: isFixedToolbarActive || ! isMediumViewport,\n\t\t\tkeepCaretInsideBlock,\n\t\t\t__unstableHasCustomAppender: true,\n\t\t};\n\t}, [\n\t\thasUploadPermissions,\n\t\tblockEditorSettings,\n\t\tisFixedToolbarActive,\n\t\tisMediumViewport,\n\t\tkeepCaretInsideBlock,\n\t\tsetIsInserterOpened,\n\t] );\n\n\tif ( isWelcomeGuideActive ) {\n\t\treturn <WelcomeGuide sidebar={ sidebar } />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<KeyboardShortcuts.Register />\n\t\t\t<BlockKeyboardShortcuts />\n\n\t\t\t<SidebarEditorProvider sidebar={ sidebar } settings={ settings }>\n\t\t\t\t<KeyboardShortcuts\n\t\t\t\t\tundo={ sidebar.undo }\n\t\t\t\t\tredo={ sidebar.redo }\n\t\t\t\t\tsave={ sidebar.save }\n\t\t\t\t/>\n\n\t\t\t\t<Header\n\t\t\t\t\tsidebar={ sidebar }\n\t\t\t\t\tinserter={ inserter }\n\t\t\t\t\tisInserterOpened={ isInserterOpened }\n\t\t\t\t\tsetIsInserterOpened={ setIsInserterOpened }\n\t\t\t\t\tisFixedToolbarActive={\n\t\t\t\t\t\tisFixedToolbarActive || ! isMediumViewport\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ ( isFixedToolbarActive || ! isMediumViewport ) && (\n\t\t\t\t\t<BlockToolbar hideDragHandle />\n\t\t\t\t) }\n\t\t\t\t<BlockCanvas\n\t\t\t\t\tshouldIframe={ false }\n\t\t\t\t\tstyles={ settings.defaultEditorStyles }\n\t\t\t\t\theight=\"100%\"\n\t\t\t\t>\n\t\t\t\t\t<BlockList renderAppender={ BlockAppender } />\n\t\t\t\t</BlockCanvas>\n\n\t\t\t\t{ createPortal(\n\t\t\t\t\t// This is a temporary hack to prevent button component inside <BlockInspector>\n\t\t\t\t\t// from submitting form when type=\"button\" is not specified.\n\t\t\t\t\t<form onSubmit={ ( event ) => event.preventDefault() }>\n\t\t\t\t\t\t<BlockInspector />\n\t\t\t\t\t</form>,\n\t\t\t\t\tinspector.contentContainer[ 0 ]\n\t\t\t\t) }\n\t\t\t</SidebarEditorProvider>\n\n\t\t\t<__unstableBlockSettingsMenuFirstItem>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<BlockInspectorButton\n\t\t\t\t\t\tinspector={ inspector }\n\t\t\t\t\t\tcloseMenu={ onClose }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</__unstableBlockSettingsMenuFirstItem>\n\t\t</>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport { settingIdToWidgetId } from '../../utils';\n\nconst { wp } = window;\n\nfunction parseWidgetId( widgetId ) {\n\tconst matches = widgetId.match( /^(.+)-(\\d+)$/ );\n\tif ( matches ) {\n\t\treturn {\n\t\t\tidBase: matches[ 1 ],\n\t\t\tnumber: parseInt( matches[ 2 ], 10 ),\n\t\t};\n\t}\n\n\t// Likely an old single widget.\n\treturn { idBase: widgetId };\n}\n\nfunction widgetIdToSettingId( widgetId ) {\n\tconst { idBase, number } = parseWidgetId( widgetId );\n\tif ( number ) {\n\t\treturn `widget_${ idBase }[${ number }]`;\n\t}\n\n\treturn `widget_${ idBase }`;\n}\n\n/**\n * This is a custom debounce function to call different callbacks depending on\n * whether it's the _leading_ call or not.\n *\n * @param {Function} leading  The callback that gets called first.\n * @param {Function} callback The callback that gets called after the first time.\n * @param {number}   timeout  The debounced time in milliseconds.\n * @return {Function} The debounced function.\n */\nfunction debounce( leading, callback, timeout ) {\n\tlet isLeading = false;\n\tlet timerID;\n\n\tfunction debounced( ...args ) {\n\t\tconst result = ( isLeading ? callback : leading ).apply( this, args );\n\n\t\tisLeading = true;\n\n\t\tclearTimeout( timerID );\n\n\t\ttimerID = setTimeout( () => {\n\t\t\tisLeading = false;\n\t\t}, timeout );\n\n\t\treturn result;\n\t}\n\n\tdebounced.cancel = () => {\n\t\tisLeading = false;\n\t\tclearTimeout( timerID );\n\t};\n\n\treturn debounced;\n}\n\nexport default class SidebarAdapter {\n\tconstructor( setting, api ) {\n\t\tthis.setting = setting;\n\t\tthis.api = api;\n\n\t\tthis.locked = false;\n\t\tthis.widgetsCache = new WeakMap();\n\t\tthis.subscribers = new Set();\n\n\t\tthis.history = [\n\t\t\tthis._getWidgetIds().map( ( widgetId ) =>\n\t\t\t\tthis.getWidget( widgetId )\n\t\t\t),\n\t\t];\n\t\tthis.historyIndex = 0;\n\t\tthis.historySubscribers = new Set();\n\t\t// Debounce the input for 1 second.\n\t\tthis._debounceSetHistory = debounce(\n\t\t\tthis._pushHistory,\n\t\t\tthis._replaceHistory,\n\t\t\t1000\n\t\t);\n\n\t\tthis.setting.bind( this._handleSettingChange.bind( this ) );\n\t\tthis.api.bind( 'change', this._handleAllSettingsChange.bind( this ) );\n\n\t\tthis.undo = this.undo.bind( this );\n\t\tthis.redo = this.redo.bind( this );\n\t\tthis.save = this.save.bind( this );\n\t}\n\n\tsubscribe( callback ) {\n\t\tthis.subscribers.add( callback );\n\n\t\treturn () => {\n\t\t\tthis.subscribers.delete( callback );\n\t\t};\n\t}\n\n\tgetWidgets() {\n\t\treturn this.history[ this.historyIndex ];\n\t}\n\n\t_emit( ...args ) {\n\t\tfor ( const callback of this.subscribers ) {\n\t\t\tcallback( ...args );\n\t\t}\n\t}\n\n\t_getWidgetIds() {\n\t\treturn this.setting.get();\n\t}\n\n\t_pushHistory() {\n\t\tthis.history = [\n\t\t\t...this.history.slice( 0, this.historyIndex + 1 ),\n\t\t\tthis._getWidgetIds().map( ( widgetId ) =>\n\t\t\t\tthis.getWidget( widgetId )\n\t\t\t),\n\t\t];\n\t\tthis.historyIndex += 1;\n\n\t\tthis.historySubscribers.forEach( ( listener ) => listener() );\n\t}\n\n\t_replaceHistory() {\n\t\tthis.history[ this.historyIndex ] = this._getWidgetIds().map(\n\t\t\t( widgetId ) => this.getWidget( widgetId )\n\t\t);\n\t}\n\n\t_handleSettingChange() {\n\t\tif ( this.locked ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevWidgets = this.getWidgets();\n\n\t\tthis._pushHistory();\n\n\t\tthis._emit( prevWidgets, this.getWidgets() );\n\t}\n\n\t_handleAllSettingsChange( setting ) {\n\t\tif ( this.locked ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! setting.id.startsWith( 'widget_' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst widgetId = settingIdToWidgetId( setting.id );\n\t\tif ( ! this.setting.get().includes( widgetId ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevWidgets = this.getWidgets();\n\n\t\tthis._pushHistory();\n\n\t\tthis._emit( prevWidgets, this.getWidgets() );\n\t}\n\n\t_createWidget( widget ) {\n\t\tconst widgetModel = wp.customize.Widgets.availableWidgets.findWhere( {\n\t\t\tid_base: widget.idBase,\n\t\t} );\n\n\t\tlet number = widget.number;\n\t\tif ( widgetModel.get( 'is_multi' ) && ! number ) {\n\t\t\twidgetModel.set(\n\t\t\t\t'multi_number',\n\t\t\t\twidgetModel.get( 'multi_number' ) + 1\n\t\t\t);\n\t\t\tnumber = widgetModel.get( 'multi_number' );\n\t\t}\n\n\t\tconst settingId = number\n\t\t\t? `widget_${ widget.idBase }[${ number }]`\n\t\t\t: `widget_${ widget.idBase }`;\n\n\t\tconst settingArgs = {\n\t\t\ttransport: wp.customize.Widgets.data.selectiveRefreshableWidgets[\n\t\t\t\twidgetModel.get( 'id_base' )\n\t\t\t]\n\t\t\t\t? 'postMessage'\n\t\t\t\t: 'refresh',\n\t\t\tpreviewer: this.setting.previewer,\n\t\t};\n\t\tconst setting = this.api.create(\n\t\t\tsettingId,\n\t\t\tsettingId,\n\t\t\t'',\n\t\t\tsettingArgs\n\t\t);\n\t\tsetting.set( widget.instance );\n\n\t\tconst widgetId = settingIdToWidgetId( settingId );\n\n\t\treturn widgetId;\n\t}\n\n\t_removeWidget( widget ) {\n\t\tconst settingId = widgetIdToSettingId( widget.id );\n\t\tconst setting = this.api( settingId );\n\n\t\tif ( setting ) {\n\t\t\tconst instance = setting.get();\n\t\t\tthis.widgetsCache.delete( instance );\n\t\t}\n\n\t\tthis.api.remove( settingId );\n\t}\n\n\t_updateWidget( widget ) {\n\t\tconst prevWidget = this.getWidget( widget.id );\n\n\t\t// Bail out update if nothing changed.\n\t\tif ( prevWidget === widget ) {\n\t\t\treturn widget.id;\n\t\t}\n\n\t\t// Update existing setting if only the widget's instance changed.\n\t\tif (\n\t\t\tprevWidget.idBase &&\n\t\t\twidget.idBase &&\n\t\t\tprevWidget.idBase === widget.idBase\n\t\t) {\n\t\t\tconst settingId = widgetIdToSettingId( widget.id );\n\t\t\tthis.api( settingId ).set( widget.instance );\n\t\t\treturn widget.id;\n\t\t}\n\n\t\t// Otherwise delete and re-create.\n\t\tthis._removeWidget( widget );\n\t\treturn this._createWidget( widget );\n\t}\n\n\tgetWidget( widgetId ) {\n\t\tif ( ! widgetId ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { idBase, number } = parseWidgetId( widgetId );\n\t\tconst settingId = widgetIdToSettingId( widgetId );\n\t\tconst setting = this.api( settingId );\n\n\t\tif ( ! setting ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst instance = setting.get();\n\n\t\tif ( this.widgetsCache.has( instance ) ) {\n\t\t\treturn this.widgetsCache.get( instance );\n\t\t}\n\n\t\tconst widget = {\n\t\t\tid: widgetId,\n\t\t\tidBase,\n\t\t\tnumber,\n\t\t\tinstance,\n\t\t};\n\n\t\tthis.widgetsCache.set( instance, widget );\n\n\t\treturn widget;\n\t}\n\n\t_updateWidgets( nextWidgets ) {\n\t\tthis.locked = true;\n\n\t\tconst addedWidgetIds = [];\n\n\t\tconst nextWidgetIds = nextWidgets.map( ( nextWidget ) => {\n\t\t\tif ( nextWidget.id && this.getWidget( nextWidget.id ) ) {\n\t\t\t\taddedWidgetIds.push( null );\n\n\t\t\t\treturn this._updateWidget( nextWidget );\n\t\t\t}\n\n\t\t\tconst widgetId = this._createWidget( nextWidget );\n\n\t\t\taddedWidgetIds.push( widgetId );\n\n\t\t\treturn widgetId;\n\t\t} );\n\n\t\tconst deletedWidgets = this.getWidgets().filter(\n\t\t\t( widget ) => ! nextWidgetIds.includes( widget.id )\n\t\t);\n\t\tdeletedWidgets.forEach( ( widget ) => this._removeWidget( widget ) );\n\n\t\tthis.setting.set( nextWidgetIds );\n\n\t\tthis.locked = false;\n\n\t\treturn addedWidgetIds;\n\t}\n\n\tsetWidgets( nextWidgets ) {\n\t\tconst addedWidgetIds = this._updateWidgets( nextWidgets );\n\n\t\tthis._debounceSetHistory();\n\n\t\treturn addedWidgetIds;\n\t}\n\n\t/**\n\t * Undo/Redo related features\n\t */\n\thasUndo() {\n\t\treturn this.historyIndex > 0;\n\t}\n\n\thasRedo() {\n\t\treturn this.historyIndex < this.history.length - 1;\n\t}\n\n\t_seek( historyIndex ) {\n\t\tconst currentWidgets = this.getWidgets();\n\n\t\tthis.historyIndex = historyIndex;\n\n\t\tconst widgets = this.history[ this.historyIndex ];\n\n\t\tthis._updateWidgets( widgets );\n\n\t\tthis._emit( currentWidgets, this.getWidgets() );\n\n\t\tthis.historySubscribers.forEach( ( listener ) => listener() );\n\t\tthis._debounceSetHistory.cancel();\n\t}\n\n\tundo() {\n\t\tif ( ! this.hasUndo() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._seek( this.historyIndex - 1 );\n\t}\n\n\tredo() {\n\t\tif ( ! this.hasRedo() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._seek( this.historyIndex + 1 );\n\t}\n\n\tsubscribeHistory( listener ) {\n\t\tthis.historySubscribers.add( listener );\n\n\t\treturn () => {\n\t\t\tthis.historySubscribers.delete( listener );\n\t\t};\n\t}\n\n\tsave() {\n\t\tthis.api.previewer.save();\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport useSidebarBlockEditor from './use-sidebar-block-editor';\nimport useBlocksFocusControl from '../focus-control/use-blocks-focus-control';\n\nimport { unlock } from '../../lock-unlock';\n\nconst { ExperimentalBlockEditorProvider } = unlock( blockEditorPrivateApis );\n\nexport default function SidebarEditorProvider( {\n\tsidebar,\n\tsettings,\n\tchildren,\n} ) {\n\tconst [ blocks, onInput, onChange ] = useSidebarBlockEditor( sidebar );\n\n\tuseBlocksFocusControl( blocks );\n\n\treturn (\n\t\t<ExperimentalBlockEditorProvider\n\t\t\tvalue={ blocks }\n\t\t\tonInput={ onInput }\n\t\t\tonChange={ onChange }\n\t\t\tsettings={ settings }\n\t\t\tuseSubRegistry={ false }\n\t\t>\n\t\t\t{ children }\n\t\t</ExperimentalBlockEditorProvider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useCallback } from '@wordpress/element';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport { getWidgetIdFromBlock, addWidgetIdToBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport { blockToWidget, widgetToBlock } from '../../utils';\n\nfunction widgetsToBlocks( widgets ) {\n\treturn widgets.map( ( widget ) => widgetToBlock( widget ) );\n}\n\nexport default function useSidebarBlockEditor( sidebar ) {\n\tconst [ blocks, setBlocks ] = useState( () =>\n\t\twidgetsToBlocks( sidebar.getWidgets() )\n\t);\n\n\tuseEffect( () => {\n\t\treturn sidebar.subscribe( ( prevWidgets, nextWidgets ) => {\n\t\t\tsetBlocks( ( prevBlocks ) => {\n\t\t\t\tconst prevWidgetsMap = new Map(\n\t\t\t\t\tprevWidgets.map( ( widget ) => [ widget.id, widget ] )\n\t\t\t\t);\n\t\t\t\tconst prevBlocksMap = new Map(\n\t\t\t\t\tprevBlocks.map( ( block ) => [\n\t\t\t\t\t\tgetWidgetIdFromBlock( block ),\n\t\t\t\t\t\tblock,\n\t\t\t\t\t] )\n\t\t\t\t);\n\n\t\t\t\tconst nextBlocks = nextWidgets.map( ( nextWidget ) => {\n\t\t\t\t\tconst prevWidget = prevWidgetsMap.get( nextWidget.id );\n\n\t\t\t\t\t// Bail out updates.\n\t\t\t\t\tif ( prevWidget && prevWidget === nextWidget ) {\n\t\t\t\t\t\treturn prevBlocksMap.get( nextWidget.id );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn widgetToBlock( nextWidget );\n\t\t\t\t} );\n\n\t\t\t\t// Bail out updates.\n\t\t\t\tif ( isShallowEqual( prevBlocks, nextBlocks ) ) {\n\t\t\t\t\treturn prevBlocks;\n\t\t\t\t}\n\n\t\t\t\treturn nextBlocks;\n\t\t\t} );\n\t\t} );\n\t}, [ sidebar ] );\n\n\tconst onChangeBlocks = useCallback(\n\t\t( nextBlocks ) => {\n\t\t\tsetBlocks( ( prevBlocks ) => {\n\t\t\t\tif ( isShallowEqual( prevBlocks, nextBlocks ) ) {\n\t\t\t\t\treturn prevBlocks;\n\t\t\t\t}\n\n\t\t\t\tconst prevBlocksMap = new Map(\n\t\t\t\t\tprevBlocks.map( ( block ) => [\n\t\t\t\t\t\tgetWidgetIdFromBlock( block ),\n\t\t\t\t\t\tblock,\n\t\t\t\t\t] )\n\t\t\t\t);\n\n\t\t\t\tconst nextWidgets = nextBlocks.map( ( nextBlock ) => {\n\t\t\t\t\tconst widgetId = getWidgetIdFromBlock( nextBlock );\n\n\t\t\t\t\t// Update existing widgets.\n\t\t\t\t\tif ( widgetId && prevBlocksMap.has( widgetId ) ) {\n\t\t\t\t\t\tconst prevBlock = prevBlocksMap.get( widgetId );\n\t\t\t\t\t\tconst prevWidget = sidebar.getWidget( widgetId );\n\n\t\t\t\t\t\t// Bail out updates by returning the previous widgets.\n\t\t\t\t\t\t// Deep equality is necessary until the block editor's internals changes.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tfastDeepEqual( nextBlock, prevBlock ) &&\n\t\t\t\t\t\t\tprevWidget\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn prevWidget;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn blockToWidget( nextBlock, prevWidget );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add a new widget.\n\t\t\t\t\treturn blockToWidget( nextBlock );\n\t\t\t\t} );\n\n\t\t\t\t// Bail out updates if the updated widgets are the same.\n\t\t\t\tif ( isShallowEqual( sidebar.getWidgets(), nextWidgets ) ) {\n\t\t\t\t\treturn prevBlocks;\n\t\t\t\t}\n\n\t\t\t\tconst addedWidgetIds = sidebar.setWidgets( nextWidgets );\n\n\t\t\t\treturn nextBlocks.reduce(\n\t\t\t\t\t( updatedNextBlocks, nextBlock, index ) => {\n\t\t\t\t\t\tconst addedWidgetId = addedWidgetIds[ index ];\n\n\t\t\t\t\t\tif ( addedWidgetId !== null ) {\n\t\t\t\t\t\t\t// Only create a new instance if necessary to prevent\n\t\t\t\t\t\t\t// the whole editor from re-rendering on every edit.\n\t\t\t\t\t\t\tif ( updatedNextBlocks === nextBlocks ) {\n\t\t\t\t\t\t\t\tupdatedNextBlocks = nextBlocks.slice();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tupdatedNextBlocks[ index ] = addWidgetIdToBlock(\n\t\t\t\t\t\t\t\tnextBlock,\n\t\t\t\t\t\t\t\taddedWidgetId\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn updatedNextBlocks;\n\t\t\t\t\t},\n\t\t\t\t\tnextBlocks\n\t\t\t\t);\n\t\t\t} );\n\t\t},\n\t\t[ sidebar ]\n\t);\n\n\treturn [ blocks, onChangeBlocks, onChangeBlocks ];\n}\n","/**\n * WordPress dependencies\n */\nimport { createContext, useMemo, useContext } from '@wordpress/element';\n\nexport const SidebarControlsContext = createContext();\n\nexport default function SidebarControls( {\n\tsidebarControls,\n\tactiveSidebarControl,\n\tchildren,\n} ) {\n\tconst context = useMemo(\n\t\t() => ( {\n\t\t\tsidebarControls,\n\t\t\tactiveSidebarControl,\n\t\t} ),\n\t\t[ sidebarControls, activeSidebarControl ]\n\t);\n\n\treturn (\n\t\t<SidebarControlsContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</SidebarControlsContext.Provider>\n\t);\n}\n\nexport function useSidebarControls() {\n\tconst { sidebarControls } = useContext( SidebarControlsContext );\n\n\treturn sidebarControls;\n}\n\nexport function useActiveSidebarControl() {\n\tconst { activeSidebarControl } = useContext( SidebarControlsContext );\n\n\treturn activeSidebarControl;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, ExternalLink } from '@wordpress/components';\nimport { useDispatch } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\nexport default function WelcomeGuide( { sidebar } ) {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst isEntirelyBlockWidgets = sidebar\n\t\t.getWidgets()\n\t\t.every( ( widget ) => widget.id.startsWith( 'block-' ) );\n\n\treturn (\n\t\t<div className=\"customize-widgets-welcome-guide\">\n\t\t\t<div className=\"customize-widgets-welcome-guide__image__wrapper\">\n\t\t\t\t<picture>\n\t\t\t\t\t<source\n\t\t\t\t\t\tsrcSet=\"https://s.w.org/images/block-editor/welcome-editor.svg\"\n\t\t\t\t\t\tmedia=\"(prefers-reduced-motion: reduce)\"\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"customize-widgets-welcome-guide__image\"\n\t\t\t\t\t\tsrc=\"https://s.w.org/images/block-editor/welcome-editor.gif\"\n\t\t\t\t\t\twidth=\"312\"\n\t\t\t\t\t\theight=\"240\"\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t/>\n\t\t\t\t</picture>\n\t\t\t</div>\n\t\t\t<h1 className=\"customize-widgets-welcome-guide__heading\">\n\t\t\t\t{ __( 'Welcome to block Widgets' ) }\n\t\t\t</h1>\n\t\t\t<p className=\"customize-widgets-welcome-guide__text\">\n\t\t\t\t{ isEntirelyBlockWidgets\n\t\t\t\t\t? __(\n\t\t\t\t\t\t\t'Your theme provides different block areas for you to add and edit content.Try adding a search bar, social icons, or other types of blocks here and see how theyll look on your site.'\n\t\t\t\t\t  )\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'You can now add any block to your sites widget areas. Dont worry, all of your favorite widgets still work flawlessly.'\n\t\t\t\t\t  ) }\n\t\t\t</p>\n\t\t\t<Button\n\t\t\t\t// TODO: Switch to `true` (40px size) if possible\n\t\t\t\t__next40pxDefaultSize={ false }\n\t\t\t\tclassName=\"customize-widgets-welcome-guide__button\"\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={ () =>\n\t\t\t\t\ttoggle( 'core/customize-widgets', 'welcomeGuide' )\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ __( 'Got it' ) }\n\t\t\t</Button>\n\t\t\t<hr className=\"customize-widgets-welcome-guide__separator\" />\n\t\t\t{ ! isEntirelyBlockWidgets && (\n\t\t\t\t<p className=\"customize-widgets-welcome-guide__more-info\">\n\t\t\t\t\t{ __( 'Want to stick with the old widgets?' ) }\n\t\t\t\t\t<br />\n\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t'https://wordpress.org/plugins/classic-widgets/'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Get the Classic Widgets plugin.' ) }\n\t\t\t\t\t</ExternalLink>\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t<p className=\"customize-widgets-welcome-guide__more-info\">\n\t\t\t\t{ __( 'New to the block editor?' ) }\n\t\t\t\t<br />\n\t\t\t\t<ExternalLink\n\t\t\t\t\thref={ __(\n\t\t\t\t\t\t'https://wordpress.org/documentation/article/wordpress-block-editor/'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ __( \"Here's a detailed guide.\" ) }\n\t\t\t\t</ExternalLink>\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { focus } from '@wordpress/dom';\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as customizeWidgetsStore } from '../store';\n\nexport default function getInserterOuterSection() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\tconst OuterSection = customize.OuterSection;\n\t// Override the OuterSection class to handle multiple outer sections.\n\t// It closes all the other outer sections whenever one is opened.\n\t// The result is that at most one outer section can be opened at the same time.\n\tcustomize.OuterSection = class extends OuterSection {\n\t\tonChangeExpanded( expanded, args ) {\n\t\t\tif ( expanded ) {\n\t\t\t\tcustomize.section.each( ( section ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tsection.params.type === 'outer' &&\n\t\t\t\t\t\tsection.id !== this.id\n\t\t\t\t\t) {\n\t\t\t\t\t\tif ( section.expanded() ) {\n\t\t\t\t\t\t\tsection.collapse();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn super.onChangeExpanded( expanded, args );\n\t\t}\n\t};\n\t// Handle constructor so that \"params.type\" can be correctly pointed to \"outer\".\n\tcustomize.sectionConstructor.outer = customize.OuterSection;\n\n\treturn class InserterOuterSection extends customize.OuterSection {\n\t\tconstructor( ...args ) {\n\t\t\tsuper( ...args );\n\n\t\t\t// This is necessary since we're creating a new class which is not identical to the original OuterSection.\n\t\t\t// @See https://github.com/WordPress/wordpress-develop/blob/42b05c397c50d9dc244083eff52991413909d4bd/src/js/_enqueues/wp/customize/controls.js#L1427-L1436\n\t\t\tthis.params.type = 'outer';\n\n\t\t\tthis.activeElementBeforeExpanded = null;\n\n\t\t\tconst ownerWindow =\n\t\t\t\tthis.contentContainer[ 0 ].ownerDocument.defaultView;\n\n\t\t\t// Handle closing the inserter when pressing the Escape key.\n\t\t\townerWindow.addEventListener(\n\t\t\t\t'keydown',\n\t\t\t\t( event ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.expanded() &&\n\t\t\t\t\t\t( event.keyCode === ESCAPE ||\n\t\t\t\t\t\t\tevent.code === 'Escape' ) &&\n\t\t\t\t\t\t! event.defaultPrevented\n\t\t\t\t\t) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tdispatch( customizeWidgetsStore ).setIsInserterOpened(\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t// Use capture mode to make this run before other event listeners.\n\t\t\t\ttrue\n\t\t\t);\n\n\t\t\tthis.contentContainer.addClass( 'widgets-inserter' );\n\n\t\t\t// Set a flag if the state is being changed from open() or close().\n\t\t\t// Don't propagate the event if it's an internal action to prevent infinite loop.\n\t\t\tthis.isFromInternalAction = false;\n\t\t\tthis.expanded.bind( () => {\n\t\t\t\tif ( ! this.isFromInternalAction ) {\n\t\t\t\t\t// Propagate the event to React to sync the state.\n\t\t\t\t\tdispatch( customizeWidgetsStore ).setIsInserterOpened(\n\t\t\t\t\t\tthis.expanded()\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tthis.isFromInternalAction = false;\n\t\t\t} );\n\t\t}\n\t\topen() {\n\t\t\tif ( ! this.expanded() ) {\n\t\t\t\tconst contentContainer = this.contentContainer[ 0 ];\n\t\t\t\tthis.activeElementBeforeExpanded =\n\t\t\t\t\tcontentContainer.ownerDocument.activeElement;\n\n\t\t\t\tthis.isFromInternalAction = true;\n\n\t\t\t\tthis.expand( {\n\t\t\t\t\tcompleteCallback() {\n\t\t\t\t\t\t// We have to do this in a \"completeCallback\" or else the elements will not yet be visible/tabbable.\n\t\t\t\t\t\t// The first one should be the close button,\n\t\t\t\t\t\t// we want to skip it and choose the second one instead, which is the search box.\n\t\t\t\t\t\tconst searchBox =\n\t\t\t\t\t\t\tfocus.tabbable.find( contentContainer )[ 1 ];\n\t\t\t\t\t\tif ( searchBox ) {\n\t\t\t\t\t\t\tsearchBox.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t\tclose() {\n\t\t\tif ( this.expanded() ) {\n\t\t\t\tconst contentContainer = this.contentContainer[ 0 ];\n\t\t\t\tconst activeElement =\n\t\t\t\t\tcontentContainer.ownerDocument.activeElement;\n\n\t\t\t\tthis.isFromInternalAction = true;\n\n\t\t\t\tthis.collapse( {\n\t\t\t\t\tcompleteCallback() {\n\t\t\t\t\t\t// Return back the focus when closing the inserter.\n\t\t\t\t\t\t// Only do this if the active element which triggers the action is inside the inserter,\n\t\t\t\t\t\t// (the close button for instance). In that case the focus will be lost.\n\t\t\t\t\t\t// Otherwise, we don't hijack the focus when the user is focusing on other elements\n\t\t\t\t\t\t// (like the quick inserter).\n\t\t\t\t\t\tif ( contentContainer.contains( activeElement ) ) {\n\t\t\t\t\t\t\t// Return back the focus when closing the inserter.\n\t\t\t\t\t\t\tif ( this.activeElementBeforeExpanded ) {\n\t\t\t\t\t\t\t\tthis.activeElementBeforeExpanded.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t};\n}\n","export default function getInspectorSection() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\treturn class InspectorSection extends customize.Section {\n\t\tconstructor( id, options ) {\n\t\t\tsuper( id, options );\n\n\t\t\tthis.parentSection = options.parentSection;\n\n\t\t\tthis.returnFocusWhenClose = null;\n\t\t\tthis._isOpen = false;\n\t\t}\n\t\tget isOpen() {\n\t\t\treturn this._isOpen;\n\t\t}\n\t\tset isOpen( value ) {\n\t\t\tthis._isOpen = value;\n\t\t\tthis.triggerActiveCallbacks();\n\t\t}\n\t\tready() {\n\t\t\tthis.contentContainer[ 0 ].classList.add(\n\t\t\t\t'customize-widgets-layout__inspector'\n\t\t\t);\n\t\t}\n\t\tisContextuallyActive() {\n\t\t\treturn this.isOpen;\n\t\t}\n\t\tonChangeExpanded( expanded, args ) {\n\t\t\tsuper.onChangeExpanded( expanded, args );\n\n\t\t\tif ( this.parentSection && ! args.unchanged ) {\n\t\t\t\tif ( expanded ) {\n\t\t\t\t\tthis.parentSection.collapse( {\n\t\t\t\t\t\tmanualTransition: true,\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tthis.parentSection.expand( {\n\t\t\t\t\t\tmanualTransition: true,\n\t\t\t\t\t\tcompleteCallback: () => {\n\t\t\t\t\t\t\t// Return focus after finishing the transition.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tthis.returnFocusWhenClose &&\n\t\t\t\t\t\t\t\t! this.contentContainer[ 0 ].contains(\n\t\t\t\t\t\t\t\t\tthis.returnFocusWhenClose\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthis.returnFocusWhenClose.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\topen( { returnFocusWhenClose } = {} ) {\n\t\t\tthis.isOpen = true;\n\t\t\tthis.returnFocusWhenClose = returnFocusWhenClose;\n\n\t\t\tthis.expand( {\n\t\t\t\tallowMultiple: true,\n\t\t\t} );\n\t\t}\n\t\tclose() {\n\t\t\tthis.collapse( {\n\t\t\t\tallowMultiple: true,\n\t\t\t} );\n\t\t}\n\t\tcollapse( options ) {\n\t\t\t// Overridden collapse() function. Mostly call the parent collapse(), but also\n\t\t\t// move our .isOpen to false.\n\t\t\t// Initially, I tried tracking this with onChangeExpanded(), but it doesn't work\n\t\t\t// because the block settings sidebar is a layer \"on top of\" the G editor sidebar.\n\t\t\t//\n\t\t\t// For example, when closing the block settings sidebar, the G\n\t\t\t// editor sidebar would display, and onChangeExpanded in\n\t\t\t// inspector-section would run with expanded=true, but I want\n\t\t\t// isOpen to be false when the block settings is closed.\n\t\t\tthis.isOpen = false;\n\t\t\tsuper.collapse( options );\n\t\t}\n\t\ttriggerActiveCallbacks() {\n\t\t\t// Manually fire the callbacks associated with moving this.active\n\t\t\t// from false to true.  \"active\" is always true for this section,\n\t\t\t// and \"isContextuallyActive\" reflects if the block settings\n\t\t\t// sidebar is currently visible, that is, it has replaced the main\n\t\t\t// Gutenberg view.\n\t\t\t// The WP customizer only checks \".isContextuallyActive()\" when\n\t\t\t// \".active\" changes values. But our \".active\" never changes value.\n\t\t\t// The WP customizer never foresaw a section being used a way we\n\t\t\t// fit the block settings sidebar into a section. By manually\n\t\t\t// triggering the \"this.active\" callbacks, we force the WP\n\t\t\t// customizer to query our .isContextuallyActive() function and\n\t\t\t// update its view of our status.\n\t\t\tthis.active.callbacks.fireWith( this.active, [ false, true ] );\n\t\t}\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport SidebarAdapter from '../components/sidebar-block-editor/sidebar-adapter';\nimport getInserterOuterSection from './inserter-outer-section';\nimport { store as customizeWidgetsStore } from '../store';\n\nconst getInserterId = ( controlId ) => `widgets-inserter-${ controlId }`;\n\nexport default function getSidebarControl() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\treturn class SidebarControl extends customize.Control {\n\t\tconstructor( ...args ) {\n\t\t\tsuper( ...args );\n\n\t\t\tthis.subscribers = new Set();\n\t\t}\n\n\t\tready() {\n\t\t\tconst InserterOuterSection = getInserterOuterSection();\n\t\t\tthis.inserter = new InserterOuterSection(\n\t\t\t\tgetInserterId( this.id ),\n\t\t\t\t{}\n\t\t\t);\n\t\t\tcustomize.section.add( this.inserter );\n\n\t\t\tthis.sectionInstance = customize.section( this.section() );\n\n\t\t\tthis.inspector = this.sectionInstance.inspector;\n\n\t\t\tthis.sidebarAdapter = new SidebarAdapter( this.setting, customize );\n\t\t}\n\n\t\tsubscribe( callback ) {\n\t\t\tthis.subscribers.add( callback );\n\n\t\t\treturn () => {\n\t\t\t\tthis.subscribers.delete( callback );\n\t\t\t};\n\t\t}\n\n\t\tonChangeSectionExpanded( expanded, args ) {\n\t\t\tif ( ! args.unchanged ) {\n\t\t\t\t// Close the inserter when the section collapses.\n\t\t\t\tif ( ! expanded ) {\n\t\t\t\t\tdispatch( customizeWidgetsStore ).setIsInserterOpened(\n\t\t\t\t\t\tfalse\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tthis.subscribers.forEach( ( subscriber ) =>\n\t\t\t\t\tsubscriber( expanded, args )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport getInspectorSection from './inspector-section';\n\nconst getInspectorSectionId = ( sidebarId ) =>\n\t`widgets-inspector-${ sidebarId }`;\n\nexport default function getSidebarSection() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\tconst reduceMotionMediaQuery = window.matchMedia(\n\t\t'(prefers-reduced-motion: reduce)'\n\t);\n\tlet isReducedMotion = reduceMotionMediaQuery.matches;\n\treduceMotionMediaQuery.addEventListener( 'change', ( event ) => {\n\t\tisReducedMotion = event.matches;\n\t} );\n\n\treturn class SidebarSection extends customize.Section {\n\t\tready() {\n\t\t\tconst InspectorSection = getInspectorSection();\n\t\t\tthis.inspector = new InspectorSection(\n\t\t\t\tgetInspectorSectionId( this.id ),\n\t\t\t\t{\n\t\t\t\t\ttitle: __( 'Block Settings' ),\n\t\t\t\t\tparentSection: this,\n\t\t\t\t\tcustomizeAction: [\n\t\t\t\t\t\t__( 'Customizing' ),\n\t\t\t\t\t\t__( 'Widgets' ),\n\t\t\t\t\t\tthis.params.title,\n\t\t\t\t\t].join( '  ' ),\n\t\t\t\t}\n\t\t\t);\n\t\t\tcustomize.section.add( this.inspector );\n\t\t\tthis.contentContainer[ 0 ].classList.add(\n\t\t\t\t'customize-widgets__sidebar-section'\n\t\t\t);\n\t\t}\n\t\thasSubSectionOpened() {\n\t\t\treturn this.inspector.expanded();\n\t\t}\n\t\tonChangeExpanded( expanded, _args ) {\n\t\t\tconst controls = this.controls();\n\t\t\tconst args = {\n\t\t\t\t..._args,\n\t\t\t\tcompleteCallback() {\n\t\t\t\t\tcontrols.forEach( ( control ) => {\n\t\t\t\t\t\tcontrol.onChangeSectionExpanded?.( expanded, args );\n\t\t\t\t\t} );\n\t\t\t\t\t_args.completeCallback?.();\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tif ( args.manualTransition ) {\n\t\t\t\tif ( expanded ) {\n\t\t\t\t\tthis.contentContainer.addClass( [ 'busy', 'open' ] );\n\t\t\t\t\tthis.contentContainer.removeClass( 'is-sub-section-open' );\n\t\t\t\t\tthis.contentContainer\n\t\t\t\t\t\t.closest( '.wp-full-overlay' )\n\t\t\t\t\t\t.addClass( 'section-open' );\n\t\t\t\t} else {\n\t\t\t\t\tthis.contentContainer.addClass( [\n\t\t\t\t\t\t'busy',\n\t\t\t\t\t\t'is-sub-section-open',\n\t\t\t\t\t] );\n\t\t\t\t\tthis.contentContainer\n\t\t\t\t\t\t.closest( '.wp-full-overlay' )\n\t\t\t\t\t\t.addClass( 'section-open' );\n\t\t\t\t\tthis.contentContainer.removeClass( 'open' );\n\t\t\t\t}\n\n\t\t\t\tconst handleTransitionEnd = () => {\n\t\t\t\t\tthis.contentContainer.removeClass( 'busy' );\n\t\t\t\t\targs.completeCallback();\n\t\t\t\t};\n\n\t\t\t\tif ( isReducedMotion ) {\n\t\t\t\t\thandleTransitionEnd();\n\t\t\t\t} else {\n\t\t\t\t\tthis.contentContainer.one(\n\t\t\t\t\t\t'transitionend',\n\t\t\t\t\t\thandleTransitionEnd\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsuper.onChangeExpanded( expanded, args );\n\t\t\t}\n\t\t}\n\t};\n}\n","/**\n * Internal dependencies\n */\nimport './move-to-sidebar';\nimport './replace-media-upload';\nimport './wide-widget-display';\n","/**\n * WordPress dependencies\n */\nimport {\n\tBlockControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { addFilter } from '@wordpress/hooks';\nimport { MoveToWidgetArea, getWidgetIdFromBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseSidebarControls,\n\tuseActiveSidebarControl,\n} from '../components/sidebar-controls';\nimport { useFocusControl } from '../components/focus-control';\nimport { blockToWidget } from '../utils';\n\nconst withMoveToSidebarToolbarItem = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tlet widgetId = getWidgetIdFromBlock( props );\n\t\tconst sidebarControls = useSidebarControls();\n\t\tconst activeSidebarControl = useActiveSidebarControl();\n\t\tconst hasMultipleSidebars = sidebarControls?.length > 1;\n\t\tconst blockName = props.name;\n\t\tconst clientId = props.clientId;\n\t\tconst canInsertBlockInSidebar = useSelect(\n\t\t\t( select ) => {\n\t\t\t\t// Use an empty string to represent the root block list, which\n\t\t\t\t// in the customizer editor represents a sidebar/widget area.\n\t\t\t\treturn select( blockEditorStore ).canInsertBlockType(\n\t\t\t\t\tblockName,\n\t\t\t\t\t''\n\t\t\t\t);\n\t\t\t},\n\t\t\t[ blockName ]\n\t\t);\n\t\tconst block = useSelect(\n\t\t\t( select ) => select( blockEditorStore ).getBlock( clientId ),\n\t\t\t[ clientId ]\n\t\t);\n\t\tconst { removeBlock } = useDispatch( blockEditorStore );\n\t\tconst [ , focusWidget ] = useFocusControl();\n\n\t\tfunction moveToSidebar( sidebarControlId ) {\n\t\t\tconst newSidebarControl = sidebarControls.find(\n\t\t\t\t( sidebarControl ) => sidebarControl.id === sidebarControlId\n\t\t\t);\n\n\t\t\tif ( widgetId ) {\n\t\t\t\t/**\n\t\t\t\t * If there's a widgetId, move it to the other sidebar.\n\t\t\t\t */\n\t\t\t\tconst oldSetting = activeSidebarControl.setting;\n\t\t\t\tconst newSetting = newSidebarControl.setting;\n\n\t\t\t\toldSetting( oldSetting().filter( ( id ) => id !== widgetId ) );\n\t\t\t\tnewSetting( [ ...newSetting(), widgetId ] );\n\t\t\t} else {\n\t\t\t\t/**\n\t\t\t\t * If there isn't a widgetId, it's most likely a inner block.\n\t\t\t\t * First, remove the block in the original sidebar,\n\t\t\t\t * then, create a new widget in the new sidebar and get back its widgetId.\n\t\t\t\t */\n\t\t\t\tconst sidebarAdapter = newSidebarControl.sidebarAdapter;\n\n\t\t\t\tremoveBlock( clientId );\n\t\t\t\tconst addedWidgetIds = sidebarAdapter.setWidgets( [\n\t\t\t\t\t...sidebarAdapter.getWidgets(),\n\t\t\t\t\tblockToWidget( block ),\n\t\t\t\t] );\n\t\t\t\t// The last non-null id is the added widget's id.\n\t\t\t\twidgetId = addedWidgetIds.reverse().find( ( id ) => !! id );\n\t\t\t}\n\n\t\t\t// Move focus to the moved widget and expand the sidebar.\n\t\t\tfocusWidget( widgetId );\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\n\t\t\t\t{ hasMultipleSidebars && canInsertBlockInSidebar && (\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t<MoveToWidgetArea\n\t\t\t\t\t\t\twidgetAreas={ sidebarControls.map(\n\t\t\t\t\t\t\t\t( sidebarControl ) => ( {\n\t\t\t\t\t\t\t\t\tid: sidebarControl.id,\n\t\t\t\t\t\t\t\t\tname: sidebarControl.params.label,\n\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\tsidebarControl.params.description,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tcurrentWidgetAreaId={ activeSidebarControl?.id }\n\t\t\t\t\t\t\tonSelect={ moveToSidebar }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t},\n\t'withMoveToSidebarToolbarItem'\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/customize-widgets/block-edit',\n\twithMoveToSidebarToolbarItem\n);\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { MediaUpload } from '@wordpress/media-utils';\n\nconst replaceMediaUpload = () => MediaUpload;\n\naddFilter(\n\t'editor.MediaUpload',\n\t'core/edit-widgets/replace-media-upload',\n\treplaceMediaUpload\n);\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\n\nconst { wp } = window;\n\nconst withWideWidgetDisplay = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { idBase } = props.attributes;\n\t\tconst isWide =\n\t\t\twp.customize.Widgets.data.availableWidgets.find(\n\t\t\t\t( widget ) => widget.id_base === idBase\n\t\t\t)?.is_wide ?? false;\n\n\t\treturn <BlockEdit key=\"edit\" { ...props } isWide={ isWide } />;\n\t},\n\t'withWideWidgetDisplay'\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/customize-widgets/wide-widget-display',\n\twithWideWidgetDisplay\n);\n","/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/customize-widgets'\n\t);\n","/**\n * Returns an action object used to open/close the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n *\n * @example\n * ```js\n * import { useState } from 'react';\n * import { store as customizeWidgetsStore } from '@wordpress/customize-widgets';\n * import { __ } from '@wordpress/i18n';\n * import { useDispatch } from '@wordpress/data';\n * import { Button } from '@wordpress/components';\n *\n * const ExampleComponent = () => {\n *   const { setIsInserterOpened } = useDispatch( customizeWidgetsStore );\n *   const [ isOpen, setIsOpen ] = useState( false );\n *\n *    return (\n *        <Button\n *            onClick={ () => {\n *                setIsInserterOpened( ! isOpen );\n *                setIsOpen( ! isOpen );\n *            } }\n *        >\n *            { __( 'Open/close inserter' ) }\n *        </Button>\n *    );\n * };\n * ```\n *\n * @return {Object} Action object.\n */\nexport function setIsInserterOpened( value ) {\n\treturn {\n\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\tvalue,\n\t};\n}\n","/**\n * Module Constants\n */\nexport const STORE_NAME = 'core/customize-widgets';\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport { STORE_NAME } from './constants';\n\n/**\n * Block editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#registering-a-store\n *\n * @type {Object}\n */\nconst storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n};\n\n/**\n * Store definition for the edit widgets namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, storeConfig );\nregister( store );\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer tracking whether the inserter is open.\n *\n * @param {boolean|Object} state\n * @param {Object}         action\n */\nfunction blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\tblockInserterPanel,\n} );\n","const EMPTY_INSERTION_POINT = {\n\trootClientId: undefined,\n\tinsertionIndex: undefined,\n};\n\n/**\n * Returns true if the inserter is opened.\n *\n * @param {Object} state Global application state.\n *\n * @example\n * ```js\n * import { store as customizeWidgetsStore } from '@wordpress/customize-widgets';\n * import { __ } from '@wordpress/i18n';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *    const { isInserterOpened } = useSelect(\n *        ( select ) => select( customizeWidgetsStore ),\n *        []\n *    );\n *\n *    return isInserterOpened()\n *        ? __( 'Inserter is open' )\n *        : __( 'Inserter is closed.' );\n * };\n * ```\n *\n * @return {boolean} Whether the inserter is opened.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/**\n * Get the insertion point for the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID and index to insert at.\n */\nexport function __experimentalGetInsertionPoint( state ) {\n\tif ( typeof state.blockInserterPanel === 'boolean' ) {\n\t\treturn EMPTY_INSERTION_POINT;\n\t}\n\n\treturn state.blockInserterPanel;\n}\n","// @ts-check\n/**\n * WordPress dependencies\n */\nimport { serialize, parse, createBlock } from '@wordpress/blocks';\nimport { addWidgetIdToBlock } from '@wordpress/widgets';\n\n/**\n * Convert settingId to widgetId.\n *\n * @param {string} settingId The setting id.\n * @return {string} The widget id.\n */\nexport function settingIdToWidgetId( settingId ) {\n\tconst matches = settingId.match( /^widget_(.+)(?:\\[(\\d+)\\])$/ );\n\n\tif ( matches ) {\n\t\tconst idBase = matches[ 1 ];\n\t\tconst number = parseInt( matches[ 2 ], 10 );\n\n\t\treturn `${ idBase }-${ number }`;\n\t}\n\n\treturn settingId;\n}\n\n/**\n * Transform a block to a customizable widget.\n *\n * @param {WPBlock} block          The block to be transformed from.\n * @param {Object}  existingWidget The widget to be extended from.\n * @return {Object} The transformed widget.\n */\nexport function blockToWidget( block, existingWidget = null ) {\n\tlet widget;\n\n\tconst isValidLegacyWidgetBlock =\n\t\tblock.name === 'core/legacy-widget' &&\n\t\t( block.attributes.id || block.attributes.instance );\n\n\tif ( isValidLegacyWidgetBlock ) {\n\t\tif ( block.attributes.id ) {\n\t\t\t// Widget that does not extend WP_Widget.\n\t\t\twidget = {\n\t\t\t\tid: block.attributes.id,\n\t\t\t};\n\t\t} else {\n\t\t\tconst { encoded, hash, raw, ...rest } = block.attributes.instance;\n\n\t\t\t// Widget that extends WP_Widget.\n\t\t\twidget = {\n\t\t\t\tidBase: block.attributes.idBase,\n\t\t\t\tinstance: {\n\t\t\t\t\t...existingWidget?.instance,\n\t\t\t\t\t// Required only for the customizer.\n\t\t\t\t\tis_widget_customizer_js_value: true,\n\t\t\t\t\tencoded_serialized_instance: encoded,\n\t\t\t\t\tinstance_hash_key: hash,\n\t\t\t\t\traw_instance: raw,\n\t\t\t\t\t...rest,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t} else {\n\t\tconst instance = {\n\t\t\tcontent: serialize( block ),\n\t\t};\n\t\twidget = {\n\t\t\tidBase: 'block',\n\t\t\twidgetClass: 'WP_Widget_Block',\n\t\t\tinstance: {\n\t\t\t\traw_instance: instance,\n\t\t\t},\n\t\t};\n\t}\n\n\tconst { form, rendered, ...restExistingWidget } = existingWidget || {};\n\n\treturn {\n\t\t...restExistingWidget,\n\t\t...widget,\n\t};\n}\n\n/**\n * Transform a widget to a block.\n *\n * @param {Object} widget          The widget to be transformed from.\n * @param {string} widget.id       The widget id.\n * @param {string} widget.idBase   The id base of the widget.\n * @param {number} widget.number   The number/index of the widget.\n * @param {Object} widget.instance The instance of the widget.\n * @return {WPBlock} The transformed block.\n */\nexport function widgetToBlock( { id, idBase, number, instance } ) {\n\tlet block;\n\n\tconst {\n\t\tencoded_serialized_instance: encoded,\n\t\tinstance_hash_key: hash,\n\t\traw_instance: raw,\n\t\t...rest\n\t} = instance;\n\n\tif ( idBase === 'block' ) {\n\t\tconst parsedBlocks = parse( raw.content ?? '', {\n\t\t\t__unstableSkipAutop: true,\n\t\t} );\n\t\tblock = parsedBlocks.length\n\t\t\t? parsedBlocks[ 0 ]\n\t\t\t: createBlock( 'core/paragraph', {} );\n\t} else if ( number ) {\n\t\t// Widget that extends WP_Widget.\n\t\tblock = createBlock( 'core/legacy-widget', {\n\t\t\tidBase,\n\t\t\tinstance: {\n\t\t\t\tencoded,\n\t\t\t\thash,\n\t\t\t\traw,\n\t\t\t\t...rest,\n\t\t\t},\n\t\t} );\n\t} else {\n\t\t// Widget that does not extend WP_Widget.\n\t\tblock = createBlock( 'core/legacy-widget', {\n\t\t\tid,\n\t\t} );\n\t}\n\n\treturn addWidgetIdToBlock( block, id );\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst closeSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n\nexport default closeSmall;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst external = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z\" />\n\t</SVG>\n);\n\nexport default external;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst moreVertical = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n\nexport default moreVertical;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plus = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\" />\n\t</SVG>\n);\n\nexport default plus;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst redo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n\nexport default redo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst undo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n\nexport default undo;\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blockLibrary\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"dom\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"isShallowEqual\"];","module.exports = window[\"wp\"][\"keyboardShortcuts\"];","module.exports = window[\"wp\"][\"keycodes\"];","module.exports = window[\"wp\"][\"mediaUtils\"];","module.exports = window[\"wp\"][\"preferences\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"privateApis\"];","module.exports = window[\"wp\"][\"widgets\"];","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { createRoot, StrictMode } from '@wordpress/element';\nimport {\n\tregisterCoreBlocks,\n\t__experimentalGetCoreBlocks,\n\t__experimentalRegisterExperimentalCoreBlocks,\n} from '@wordpress/block-library';\nimport {\n\tregisterLegacyWidgetBlock,\n\tregisterLegacyWidgetVariations,\n\tregisterWidgetGroupBlock,\n} from '@wordpress/widgets';\nimport {\n\tsetFreeformContentHandlerName,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\nimport { dispatch } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport CustomizeWidgets from './components/customize-widgets';\nimport getSidebarSection from './controls/sidebar-section';\nimport getSidebarControl from './controls/sidebar-control';\nimport './filters';\n\nconst { wp } = window;\n\nconst DISABLED_BLOCKS = [\n\t'core/more',\n\t'core/block',\n\t'core/freeform',\n\t'core/template-part',\n];\nconst ENABLE_EXPERIMENTAL_FSE_BLOCKS = false;\n\n/**\n * Initializes the widgets block editor in the customizer.\n *\n * @param {string} editorName          The editor name.\n * @param {Object} blockEditorSettings Block editor settings.\n */\nexport function initialize( editorName, blockEditorSettings ) {\n\tdispatch( preferencesStore ).setDefaults( 'core/customize-widgets', {\n\t\tfixedToolbar: false,\n\t\twelcomeGuide: true,\n\t} );\n\n\tdispatch( blocksStore ).reapplyBlockTypeFilters();\n\tconst coreBlocks = __experimentalGetCoreBlocks().filter( ( block ) => {\n\t\treturn ! (\n\t\t\tDISABLED_BLOCKS.includes( block.name ) ||\n\t\t\tblock.name.startsWith( 'core/post' ) ||\n\t\t\tblock.name.startsWith( 'core/query' ) ||\n\t\t\tblock.name.startsWith( 'core/site' ) ||\n\t\t\tblock.name.startsWith( 'core/navigation' )\n\t\t);\n\t} );\n\tregisterCoreBlocks( coreBlocks );\n\tregisterLegacyWidgetBlock();\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t__experimentalRegisterExperimentalCoreBlocks( {\n\t\t\tenableFSEBlocks: ENABLE_EXPERIMENTAL_FSE_BLOCKS,\n\t\t} );\n\t}\n\tregisterLegacyWidgetVariations( blockEditorSettings );\n\tregisterWidgetGroupBlock();\n\n\t// As we are unregistering `core/freeform` to avoid the Classic block, we must\n\t// replace it with something as the default freeform content handler. Failure to\n\t// do this will result in errors in the default block parser.\n\t// see: https://github.com/WordPress/gutenberg/issues/33097\n\tsetFreeformContentHandlerName( 'core/html' );\n\n\tconst SidebarControl = getSidebarControl( blockEditorSettings );\n\n\twp.customize.sectionConstructor.sidebar = getSidebarSection();\n\twp.customize.controlConstructor.sidebar_block_editor = SidebarControl;\n\n\tconst container = document.createElement( 'div' );\n\tdocument.body.appendChild( container );\n\n\twp.customize.bind( 'ready', () => {\n\t\tconst sidebarControls = [];\n\t\twp.customize.control.each( ( control ) => {\n\t\t\tif ( control instanceof SidebarControl ) {\n\t\t\t\tsidebarControls.push( control );\n\t\t\t}\n\t\t} );\n\n\t\tcreateRoot( container ).render(\n\t\t\t<StrictMode>\n\t\t\t\t<CustomizeWidgets\n\t\t\t\t\tapi={ wp.customize }\n\t\t\t\t\tsidebarControls={ sidebarControls }\n\t\t\t\t\tblockEditorSettings={ blockEditorSettings }\n\t\t\t\t/>\n\t\t\t</StrictMode>\n\t\t);\n\t} );\n}\nexport { store } from './store';\n"],"names":["useRef","useEffect","ButtonBlockAppender","store","blockEditorStore","useSelect","jsx","_jsx","BlockAppender","props","ref","isBlocksListEmpty","select","getBlockCount","current","ownerDocument","activeElement","body","focus","useMemo","__","MenuItem","BlockInspectorButton","inspector","closeMenu","selectedBlockClientId","getSelectedBlockClientId","selectedBlock","document","getElementById","onClick","open","returnFocusWhenClose","children","useState","createPortal","SlotFillProvider","Popover","ErrorBoundary","SidebarBlockEditor","FocusControl","SidebarControls","useClearSelectedBlock","jsxs","_jsxs","CustomizeWidgets","api","sidebarControls","blockEditorSettings","activeSidebarControl","setActiveSidebarControl","parentContainer","popoverRef","unsubscribers","map","sidebarControl","subscribe","expanded","forEach","unsubscriber","activeSidebar","sidebar","sidebarAdapter","inserter","id","container","popover","className","Slot","useDispatch","hasSelectedBlock","hasMultiSelection","clearSelectedBlock","ownerWindow","defaultView","handleClearSelectedBlock","element","contains","closest","handleMouseDown","event","target","handleBlur","addEventListener","removeEventListener","Component","Button","Warning","useCopyToClipboard","doAction","CopyButton","text","__next40pxDefaultSize","variant","constructor","arguments","state","error","componentDidCatch","setState","render","actions","stack","createContext","useContext","useCallback","settingIdToWidgetId","FocusControlContext","focusedWidgetIdRef","setFocusedWidgetIdRef","focusWidget","widgetId","widgets","setting","get","includes","sectionInstance","expand","completeCallback","handleFocus","settingId","previewBound","handleReady","previewer","preview","bind","unbind","context","Provider","value","useFocusControl","getWidgetIdFromBlock","useBlocksFocusControl","blocks","selectBlock","blocksRef","focusedBlock","find","block","clientId","blockNode","querySelector","clsx","ToolbarButton","NavigableToolbar","displayShortcut","isAppleOS","_x","isRTL","plus","undo","undoIcon","redo","redoIcon","Inserter","MoreMenu","Fragment","_Fragment","Header","isInserterOpened","setIsInserterOpened","isFixedToolbarActive","hasUndo","hasRedo","setUndoRedo","shortcut","primaryShift","primary","subscribeHistory","icon","label","disabled","isPressed","isOpen","setIsOpened","contentContainer","__experimentalLibrary","Library","useInstanceId","closeSmall","customizeWidgetsStore","inserterTitleId","insertionPoint","__experimentalGetInsertionPoint","rootClientId","__experimentalInsertionIndex","insertionIndex","showInserterHelpPanel","onSelect","selectStore","useInserter","close","updater","textFormattingShortcuts","keyCombination","modifier","character","description","aliases","keyboardShortcutsStore","Shortcut","DynamicShortcut","name","getShortcutKeyCombination","getShortcutDescription","getShortcutAliases","Modal","useShortcut","ShortcutList","shortcuts","role","index","ShortcutSection","title","ShortcutCategorySection","categoryName","additionalShortcuts","categoryShortcuts","getCategoryShortcuts","concat","KeyboardShortcutHelpModal","isModalActive","toggleModal","registerShortcut","category","onRequestClose","ariaLabel","displayShortcutList","shortcutAriaLabel","KeyCombination","forceAriaLabel","Array","isArray","alias","KeyboardShortcuts","save","preventDefault","KeyboardShortcutsRegister","unregisterShortcut","Register","MenuGroup","ToolbarDropdownMenu","VisuallyHidden","external","moreVertical","PreferenceToggleMenuItem","isKeyboardShortcutsModalActive","setIsKeyboardShortcutsModalVisible","toggleKeyboardShortcutsModal","popoverProps","placement","toggleProps","tooltipPosition","size","scope","info","messageActivated","messageDeactivated","access","href","rel","as","useViewportMatch","coreStore","BlockList","BlockToolbar","BlockInspector","privateApis","blockEditorPrivateApis","__unstableBlockSettingsMenuFirstItem","uploadMedia","preferencesStore","blockLibraryPrivateApis","SidebarEditorProvider","WelcomeGuide","unlock","ExperimentalBlockCanvas","BlockCanvas","BlockKeyboardShortcuts","isMediumViewport","hasUploadPermissions","keepCaretInsideBlock","isWelcomeGuideActive","_select$canUser","canUser","kind","settings","mediaUploadBlockEditor","onError","argumentsObject","wpAllowedMimeTypes","allowedMimeTypes","message","__experimentalSetIsInserterOpened","mediaUpload","hasFixedToolbar","__unstableHasCustomAppender","hideDragHandle","shouldIframe","styles","defaultEditorStyles","height","renderAppender","onSubmit","onClose","wp","window","parseWidgetId","matches","match","idBase","number","parseInt","widgetIdToSettingId","debounce","leading","callback","timeout","isLeading","timerID","debounced","args","result","apply","clearTimeout","setTimeout","cancel","SidebarAdapter","locked","widgetsCache","WeakMap","subscribers","Set","history","_getWidgetIds","getWidget","historyIndex","historySubscribers","_debounceSetHistory","_pushHistory","_replaceHistory","_handleSettingChange","_handleAllSettingsChange","add","delete","getWidgets","_emit","slice","listener","prevWidgets","startsWith","_createWidget","widget","widgetModel","customize","Widgets","availableWidgets","findWhere","id_base","set","settingArgs","transport","data","selectiveRefreshableWidgets","create","instance","_removeWidget","remove","_updateWidget","prevWidget","has","_updateWidgets","nextWidgets","addedWidgetIds","nextWidgetIds","nextWidget","push","deletedWidgets","filter","setWidgets","length","_seek","currentWidgets","useSidebarBlockEditor","ExperimentalBlockEditorProvider","onInput","onChange","useSubRegistry","fastDeepEqual","isShallowEqual","addWidgetIdToBlock","blockToWidget","widgetToBlock","widgetsToBlocks","setBlocks","prevBlocks","prevWidgetsMap","Map","prevBlocksMap","nextBlocks","onChangeBlocks","nextBlock","prevBlock","reduce","updatedNextBlocks","addedWidgetId","SidebarControlsContext","useSidebarControls","useActiveSidebarControl","ExternalLink","toggle","isEntirelyBlockWidgets","every","srcSet","media","src","width","alt","ESCAPE","dispatch","getInserterOuterSection","OuterSection","onChangeExpanded","section","each","params","type","collapse","sectionConstructor","outer","InserterOuterSection","activeElementBeforeExpanded","keyCode","code","defaultPrevented","stopPropagation","addClass","isFromInternalAction","searchBox","tabbable","getInspectorSection","InspectorSection","Section","options","parentSection","_isOpen","triggerActiveCallbacks","ready","classList","isContextuallyActive","unchanged","manualTransition","allowMultiple","active","callbacks","fireWith","getInserterId","controlId","getSidebarControl","SidebarControl","Control","onChangeSectionExpanded","subscriber","getInspectorSectionId","sidebarId","getSidebarSection","reduceMotionMediaQuery","matchMedia","isReducedMotion","SidebarSection","customizeAction","join","hasSubSectionOpened","_args","controls","control","removeClass","handleTransitionEnd","one","BlockControls","createHigherOrderComponent","addFilter","MoveToWidgetArea","withMoveToSidebarToolbarItem","BlockEdit","hasMultipleSidebars","blockName","canInsertBlockInSidebar","canInsertBlockType","getBlock","removeBlock","moveToSidebar","sidebarControlId","newSidebarControl","oldSetting","newSetting","reverse","widgetAreas","currentWidgetAreaId","MediaUpload","replaceMediaUpload","withWideWidgetDisplay","_wp$customize$Widgets","attributes","isWide","is_wide","__dangerousOptInToUnstableAPIsOnlyForCoreModules","lock","STORE_NAME","createReduxStore","register","reducer","selectors","storeConfig","combineReducers","blockInserterPanel","action","EMPTY_INSERTION_POINT","undefined","serialize","parse","createBlock","existingWidget","isValidLegacyWidgetBlock","encoded","hash","raw","rest","is_widget_customizer_js_value","encoded_serialized_instance","instance_hash_key","raw_instance","content","widgetClass","form","rendered","restExistingWidget","_raw$content","parsedBlocks","__unstableSkipAutop","SVG","Path","xmlns","viewBox","d","createRoot","StrictMode","registerCoreBlocks","__experimentalGetCoreBlocks","__experimentalRegisterExperimentalCoreBlocks","registerLegacyWidgetBlock","registerLegacyWidgetVariations","registerWidgetGroupBlock","setFreeformContentHandlerName","blocksStore","DISABLED_BLOCKS","ENABLE_EXPERIMENTAL_FSE_BLOCKS","initialize","editorName","setDefaults","fixedToolbar","welcomeGuide","reapplyBlockTypeFilters","coreBlocks","globalThis","IS_GUTENBERG_PLUGIN","enableFSEBlocks","controlConstructor","sidebar_block_editor","createElement","appendChild"],"sourceRoot":""}